!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="fbPV")}({fbPV:function(e,t){!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e,t,i){"use strict";i.d(t,"c",function(){return r}),i.d(t,"g",function(){return o}),i.d(t,"k",function(){return s}),i.d(t,"d",function(){return a}),i.d(t,"e",function(){return u}),i.d(t,"f",function(){return d}),i.d(t,"b",function(){return l}),i.d(t,"h",function(){return c}),i.d(t,"i",function(){return h}),i.d(t,"j",function(){return f}),i.d(t,"a",function(){return p});var n,r=[1,2,3,4,5,6,7,8,9],o=r,s=[0,1,2,3,4,5,6,7,8],a=s,u=s,d=s,l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],c=[[0,1,2,3,4,5,6,7,8],[9,10,11,12,13,14,15,16,17],[18,19,20,21,22,23,24,25,26],[27,28,29,30,31,32,33,34,35],[36,37,38,39,40,41,42,43,44],[45,46,47,48,49,50,51,52,53],[54,55,56,57,58,59,60,61,62],[63,64,65,66,67,68,69,70,71],[72,73,74,75,76,77,78,79,80]],h=[[0,9,18,27,36,45,54,63,72],[1,10,19,28,37,46,55,64,73],[2,11,20,29,38,47,56,65,74],[3,12,21,30,39,48,57,66,75],[4,13,22,31,40,49,58,67,76],[5,14,23,32,41,50,59,68,77],[6,15,24,33,42,51,60,69,78],[7,16,25,34,43,52,61,70,79],[8,17,26,35,44,53,62,71,80]],f=[[0,1,2,9,10,11,18,19,20],[3,4,5,12,13,14,21,22,23],[6,7,8,15,16,17,24,25,26],[27,28,29,36,37,38,45,46,47],[30,31,32,39,40,41,48,49,50],[33,34,35,42,43,44,51,52,53],[54,55,56,63,64,65,72,73,74],[57,58,59,66,67,68,75,76,77],[60,61,62,69,70,71,78,79,80]];!function(e){e[e.SEQUENTIAL=0]="SEQUENTIAL",e[e.RANDOM=1]="RANDOM"}(n||(n={}));var p=function(){function e(){}return e.userRow=function(e){return Math.floor(e/9)+1},e.userCol=function(e){return e%9+1},e.userBox=function(e){return 3*Math.floor(e/27)+Math.floor(e%9/3)+1},e.urcToCellIdx=function(e,t){return 9*e+t-10},e.rowIdx=function(e){return Math.floor(e/9)},e.colIdx=function(e){return e%9},e.boxIdx=function(e){return 3*Math.floor(e/27)+Math.floor(e%9/3)},e.getRelatedCells=function(t){for(var i=[],n=(e.rowIdx(t),e.colIdx(t),e.boxIdx(t),0),r=c[e.rowIdx(t)];n<r.length;n++){var o=r[n];o!==t&&i.push(o)}for(var s=0,a=h[e.colIdx(t)];s<a.length;s++){var u=a[s];u!==t&&i.push(u)}for(var d=0,l=f[e.boxIdx(t)];d<l.length;d++){var p=l[d];i.indexOf(p)<0&&i.push(p)}return i},e.pairwise=function(e){for(var t=[],i=0,n=0;n<e.length;n++)for(var r=n+1;r<e.length;r++)t[i++]=[e[n],e[r]];return t},e.tripwise=function(e){for(var t=[],i=0,n=0;n<e.length;n++)for(var r=n+1;r<e.length;r++)for(var o=r+1;o<e.length;o++)t[i++]=[e[n],e[r],e[o]];return t},e.quadwise=function(e){for(var t=[],i=0,n=0;n<e.length;n++)for(var r=n+1;r<e.length;r++)for(var o=r+1;o<e.length;o++)for(var s=o+1;s<e.length;s++)t[i++]=[e[n],e[r],e[o],e[s]];return t},e.formatString=function(e,t){return e.replace(/{(\d+)}/g,function(e,i){return void 0!==t[i]?t[i]:e})},e.pad=function(e,t){for(var i=e+"";i.length<t;)i=" "+i;return i},e.makeIndexArray=function(t,i){for(var r=[],o=0;o<t;o++)r[o]=o;return i===n.RANDOM&&e.shuffleArray(r),r},e.generateCellIndexesArray=function(t){for(var i=[],r=1;r<=9;r++)for(var o=1;o<=9;o++)i.push({r:r,c:o});return t===n.RANDOM&&e.shuffleArray(i),i},e.shuffleArray=function(e){var t,i,n;for(t=e.length-1;t>0;t--)i=Math.floor(Math.random()*(t+1)),n=e[t],e[t]=e[i],e[i]=n;return e},e.valuesArrayToString=function(e){for(var t="",i=0,n=e;i<n.length;i++){var r=n[i];t+=0===r?".":r}return t},e.valuesStringToArray=function(e){for(var t,i=[],n=0,r=l;n<r.length;n++){var o=r[n];t=e.charAt(o),"."!==t?i.push(+t):i.push(0)}return i},e.toRowColString=function(t){return e.rowIdx(t)+1+","+(e.colIdx(t)+1)},e.viewToModelRow=function(e,t){return 3*e+t+1},e.viewToModelCol=function(e,t){return 3*e+t+1},e.viewToModelCand=function(e,t){return e%3*3+t+1},e.areCellsInSameRow=function(t){for(var i=e.rowIdx(t[0]),n=1;n<t.length;n++)if(e.rowIdx(t[n])!=i)return!1;return!0},e.areCellsInSameCol=function(t){for(var i=e.colIdx(t[0]),n=1;n<t.length;n++)if(e.colIdx(t[n])!=i)return!1;return!0},e.areCellsInSameBox=function(t){for(var i=e.boxIdx(t[0]),n=1;n<t.length;n++)if(e.boxIdx(t[n])!=i)return!1;return!0},e.isArraySame=function(e,t){return e.length==t.length&&e.every(function(e,i){return e===t[i]})},e.toElapsedTimeString=function(e){var t=Math.floor(e%60),i=Math.floor(e/60%60),n=Math.floor(e/3600%24),r=t<10?"0"+t:t,o=i<1?"0":i;return(n<1?"":n+":")+o+":"+r},e}();p.RANDOM_VALUES_1=[8,3,1,2,9,7,4,5,6],p.RANDOM_VALUES_2=[1,6,2,9,5,8,7,4,3],p.RANDOM_VALUES_3=[2,6,8,7,5,1,9,3,4],p.RANDOM_VALUES_4=[3,2,4,8,7,9,6,5,1],p.RANDOM_VALUES_5=[7,8,2,1,5,6,9,3,4],p.RANDOM_CELLS_1=[66,21,53,29,65,30,39,25,6,61,0,1,79,26,42,38,5,43,33,11,19,57,63,56,22,28,36,27,75,78,35,51,72,10,31,4,8,54,18,24,46,34,64,68,52,69,58,16,77,70,40,14,41,37,62,49,20,74,17,80,76,47,60,67,73,55,71,3,13,7,2,44,12,59,50,15,9,32,23,45,48],p.RANDOM_CELLS_2=[6,27,53,49,10,9,46,71,40,44,36,67,75,30,74,63,77,21,12,58,51,72,55,29,56,15,22,13,39,28,52,57,65,19,66,3,7,59,62,54,4,11,17,70,50,14,25,24,48,20,18,35,69,76,68,0,43,45,38,26,60,47,61,80,32,5,2,31,79,37,8,23,73,42,1,41,64,33,34,16,78],p.RANDOM_CELLS_3=[13,66,36,14,5,42,23,34,51,2,9,1,67,60,6,31,64,38,63,32,28,45,47,20,80,58,12,35,59,33,17,4,73,69,11,41,37,72,16,79,40,26,70,0,19,27,29,43,10,54,39,65,8,21,3,74,53,50,44,57,15,78,24,7,55,30,49,56,62,25,76,48,18,61,68,22,46,71,52,77,75],p.RANDOM_CELLS_4=[43,7,16,34,67,2,46,20,17,55,6,71,48,11,60,27,66,52,14,70,73,63,41,53,30,25,47,31,1,61,32,57,18,51,59,40,29,74,78,39,68,19,58,4,54,79,13,65,77,45,44,56,10,35,24,36,5,23,37,9,28,8,62,15,49,22,33,76,26,75,80,69,21,50,3,64,0,12,38,72,42],p.RANDOM_CELLS_5=[77,43,32,17,49,33,0,24,48,63,58,44,78,4,2,67,20,29,46,7,21,65,53,14,54,61,41,60,50,47,27,30,9,38,37,19,71,62,34,45,31,56,66,51,26,52,5,10,70,16,36,80,55,3,73,28,69,35,11,76,8,23,12,42,13,39,64,74,18,68,22,40,6,57,15,59,75,25,79,1,72],p.RANDOM_PARING_CELLS_1=[31,13,16,25,2,21,38,7,1,40,17,28,8,9,23,12,19,14,26,34,6,20,39,0,32,22,10,18,36,37,27,15,30,4,29,5,33,3,24,11,35],p.RANDOM_PARING_CELLS_2=[5,11,7,38,25,4,31,28,16,39,3,17,40,22,20,23,12,37,36,13,35,18,0,6,32,33,21,30,29,19,27,10,34,1,26,15,24,9,2,14,8],p.RANDOM_PARING_CELLS_3=[34,35,24,36,19,39,22,20,16,28,13,2,33,11,0,5,10,29,21,25,4,23,14,1,32,37,9,38,7,27,30,15,8,40,3,31,26,12,6,18,17],p.RANDOM_PARING_CELLS_4=[6,3,11,28,25,27,35,10,17,33,7,2,23,16,5,12,14,4,20,1,37,36,31,29,39,30,26,9,40,38,21,0,8,34,18,24,22,15,13,32,19],p.RANDOM_PARING_CELLS_5=[8,7,22,24,34,39,19,18,13,23,32,17,14,9,35,10,28,21,6,31,16,11,29,36,38,25,0,12,15,4,2,33,30,26,20,5,1,3,37,40,27]},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return u}),i.d(t,"d",function(){return d}),i.d(t,"c",function(){return c});var n,r=i(0),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(e){e[e.SET_VALUE=0]="SET_VALUE",e[e.GUESS_VALUE=1]="GUESS_VALUE",e[e.REMOVE_VALUE=2]="REMOVE_VALUE",e[e.REMOVE_CANDIDATE=3]="REMOVE_CANDIDATE",e[e.REMOVE_CANDIDATES=4]="REMOVE_CANDIDATES",e[e.RESTORE_CANDIDATE=5]="RESTORE_CANDIDATE",e[e.RESTORE_CANDIDATES=6]="RESTORE_CANDIDATES"}(n||(n={}));var s=function(){function e(e,t){this._type=e,this._hint=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return this._hint},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return""},e}(),a=function(e){function t(t,i,n,r){var o=e.call(this,t,r)||this;return o._cell=i,o._value=n,o}return o(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t}(s),u=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return o(t,e),t.prototype.toString=function(){var t=e.prototype.toString.call(this)+r.a.formatString("Set value {0} in {1},{2}",[this.value,r.a.userRow(this.cell),r.a.userCol(this.cell)]);return this.hint?t+=" ("+this.hint.toString()+")":t+=" (User action)",t},t}(a),d=function(e){function t(t,i,n,r){var o=e.call(this,t,i,n)||this;return o._possibleValues=r,o}return o(t,e),Object.defineProperty(t.prototype,"possibleValues",{get:function(){return this._possibleValues},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return e.prototype.toString.call(this)+r.a.formatString("Guess value {0} in {1},{2} with possibles {3} (User action)",[this.value,r.a.userRow(this.cell),r.a.userCol(this.cell),JSON.stringify(this._possibleValues)])},t}(a),l=(function(e){function t(t,i,n){return e.call(this,t,i,n)||this}o(t,e),t.prototype.toString=function(){return e.prototype.toString.call(this)+r.a.formatString("Remove value {0} in {1},{2} (User action)",[this.value,r.a.userRow(this.cell),r.a.userCol(this.cell)])}}(a),function(e){function t(t,i,n,r){var o=e.call(this,t,r)||this;return o._cell=i,o._candidate=n,o}return o(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"candidate",{get:function(){return this._candidate},enumerable:!0,configurable:!0}),t}(s)),c=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return o(t,e),t.prototype.toString=function(){var t=e.prototype.toString.call(this)+r.a.formatString("Remove candidate {0} in {1},{2}",[this.candidate,r.a.userRow(this.cell),r.a.userCol(this.cell)]);return this.hint?t+=" ("+this.hint.toString()+")":t+=" (User action)",t},t}(l),h=(function(e){function t(t,i,n){return e.call(this,t,i,n)||this}o(t,e),t.prototype.toString=function(){return e.prototype.toString.call(this)+r.a.formatString("Restore candidate {0} in {1},{2} (User action)",[this.candidate,r.a.userRow(this.cell),r.a.userCol(this.cell)])}}(l),function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r._candidates=i,r}return o(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"candidates",{get:function(){return this._candidates},enumerable:!0,configurable:!0}),t}(s));(function(e){function t(t,i,n,r,o){return e.call(this,t,r,o)||this}o(t,e),t.prototype.toString=function(){for(var e="Remove candidates ",t=0,i=this.candidates;t<i.length;t++){var n=i[t];e+=r.a.formatString("{0} in ({1},{2}), ",[this.candidates[(n.candidate,r.a.userRow(n.cell),r.a.userCol(n.cell))]])}return this.hint?e+=" ("+this.hint.toString()+")":e+=" (User action)",e}})(h),function(e){function t(t,i,n,r,o){return e.call(this,t,r,o)||this}o(t,e),t.prototype.toString=function(){for(var e="Restore candidates ",t=0,i=this.candidates;t<i.length;t++){var n=i[t];e+=r.a.formatString("{0} in ({1},{2}), ",[this.candidates[(n.candidate,r.a.userRow(n.cell),r.a.userCol(n.cell))]])}return this.hint?e+=" ("+this.hint.toString()+")":e+=" (User action)",e}}(h)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n;!function(e){e[e.NAKED_SINGLE=0]="NAKED_SINGLE",e[e.HIDDEN_SINGLE_ROW=1]="HIDDEN_SINGLE_ROW",e[e.HIDDEN_SINGLE_COL=2]="HIDDEN_SINGLE_COL",e[e.HIDDEN_SINGLE_BOX=3]="HIDDEN_SINGLE_BOX",e[e.NAKED_PAIRS_ROW=4]="NAKED_PAIRS_ROW",e[e.NAKED_PAIRS_COL=5]="NAKED_PAIRS_COL",e[e.NAKED_PAIRS_BOX=6]="NAKED_PAIRS_BOX",e[e.POINTING_ROW=7]="POINTING_ROW",e[e.POINTING_COL=8]="POINTING_COL",e[e.ROW_BOX_REDUCTION=9]="ROW_BOX_REDUCTION",e[e.COL_BOX_REDUCTION=10]="COL_BOX_REDUCTION",e[e.NAKED_TRIPLES_ROW=11]="NAKED_TRIPLES_ROW",e[e.NAKED_TRIPLES_COL=12]="NAKED_TRIPLES_COL",e[e.NAKED_TRIPLES_BOX=13]="NAKED_TRIPLES_BOX",e[e.HIDDEN_PAIRS_ROW=14]="HIDDEN_PAIRS_ROW",e[e.HIDDEN_PAIRS_COL=15]="HIDDEN_PAIRS_COL",e[e.HIDDEN_PAIRS_BOX=16]="HIDDEN_PAIRS_BOX",e[e.NAKED_QUADS_ROW=17]="NAKED_QUADS_ROW",e[e.NAKED_QUADS_COL=18]="NAKED_QUADS_COL",e[e.NAKED_QUADS_BOX=19]="NAKED_QUADS_BOX",e[e.HIDDEN_TRIPLES_ROW=20]="HIDDEN_TRIPLES_ROW",e[e.HIDDEN_TRIPLES_COL=21]="HIDDEN_TRIPLES_COL",e[e.HIDDEN_TRIPLES_BOX=22]="HIDDEN_TRIPLES_BOX",e[e.HIDDEN_QUADS_ROW=23]="HIDDEN_QUADS_ROW",e[e.HIDDEN_QUADS_COL=24]="HIDDEN_QUADS_COL",e[e.HIDDEN_QUADS_BOX=25]="HIDDEN_QUADS_BOX",e[e.GUESS=26]="GUESS"}(n||(n={}))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n;!function(e){e[e.EASY=0]="EASY",e[e.MEDIUM=1]="MEDIUM",e[e.HARD=2]="HARD",e[e.HARDEST=3]="HARDEST"}(n||(n={}))},function(e,t,i){"use strict";i.d(t,"a",function(){return d}),i.d(t,"b",function(){return l});var n=i(2),r=i(1),o=i(3),s=i(0),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(){function e(e){this._type=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),e}(),d=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r._cell=i,r._value=n,r}return a(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.getCell=function(){return this._cell},t.prototype.getValue=function(){return this._value},t.prototype.getActionType=function(){return r.a.SET_VALUE},t.prototype.getDifficultyRating=function(){return this.type===n.a.GUESS?o.a.HARDEST:o.a.EASY},t.prototype.toString=function(){var e=s.a.userRow(this._cell),t=s.a.userCol(this._cell);s.a.userBox(this._cell);switch(this.type){case n.a.NAKED_SINGLE:return s.a.formatString("Naked single {0} in {1},{2}",[this._value,e,t]);case n.a.HIDDEN_SINGLE_ROW:return s.a.formatString("Hidden single {0} in row, {1},{2}",[this._value,e,t]);case n.a.HIDDEN_SINGLE_COL:return s.a.formatString("Hidden single {0} in col, {1},{2}",[this._value,e,t]);case n.a.HIDDEN_SINGLE_BOX:return s.a.formatString("Hidden single {0} in box, {1},{2}",[this._value,e,t]);case n.a.GUESS:return s.a.formatString("Guess {0} in {1},{2}",[this._value,e,t])}},t}(u),l=function(e){function t(t,i,n,r){var o=e.call(this,t)||this;return o._cells=i,o._candidates=n.sort(),o._removes=r,o}return a(t,e),Object.defineProperty(t.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),t.prototype.getCell=function(){return this._cells[0]},t.prototype.getValue=function(){},t.prototype.getActionType=function(){return r.a.REMOVE_CANDIDATE},Object.defineProperty(t.prototype,"candidates",{get:function(){return this._candidates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removes",{get:function(){return this._removes},enumerable:!0,configurable:!0}),t.prototype.getDifficultyRating=function(){return this.type>=n.a.NAKED_TRIPLES_ROW?o.a.HARD:o.a.MEDIUM},t.prototype.toString=function(){var e=s.a.userRow(this._cells[0]),t=s.a.userCol(this._cells[0]),i=s.a.userBox(this._cells[0]);switch(this.type){case n.a.NAKED_PAIRS_ROW:return s.a.formatString("Naked pairs {0}/{1} in row {2}",[this._candidates[0],this._candidates[1],e]);case n.a.NAKED_PAIRS_COL:return s.a.formatString("Naked pairs {0}/{1} in col {2}",[this._candidates[0],this._candidates[1],t]);case n.a.NAKED_PAIRS_BOX:return s.a.formatString("Naked pairs {0}/{1} in box {2}",[this._candidates[0],this._candidates[1],i]);case n.a.POINTING_ROW:return s.a.formatString("Pointing row {0}, box {1}, candidate {2}",[e,i,this._candidates[0]]);case n.a.POINTING_COL:return s.a.formatString("Pointing column {0}, box {1}, candidate {2}",[t,i,this._candidates[0]]);case n.a.ROW_BOX_REDUCTION:return s.a.formatString("Box reduction in box {0}, row {1}, candidate {2}",[i,e,this._candidates[0]]);case n.a.COL_BOX_REDUCTION:return s.a.formatString("Box reduction in box {0}, column {1}, candidate {2}",[i,t,this._candidates[0]]);case n.a.NAKED_TRIPLES_ROW:return s.a.formatString("Naked triples {0}/{1}/{2} in row {3}",[this._candidates[0],this._candidates[1],this._candidates[2],e]);case n.a.NAKED_TRIPLES_COL:return s.a.formatString("Naked triples {0}/{1}/{2} in column {3}",[this._candidates[0],this._candidates[1],this._candidates[2],t]);case n.a.NAKED_TRIPLES_BOX:return s.a.formatString("Naked triples {0}/{1}/{2} in box {3}",[this._candidates[0],this._candidates[1],this._candidates[2],i]);case n.a.NAKED_QUADS_ROW:return s.a.formatString("Naked quads {0}/{1}/{2}/{3} in row {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],e]);case n.a.NAKED_QUADS_COL:return s.a.formatString("Naked quads {0}/{1}/{2}/{3} in column {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],t]);case n.a.NAKED_QUADS_BOX:return s.a.formatString("Naked quads {0}/{1}/{2}/{3} in box {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],i]);case n.a.HIDDEN_PAIRS_ROW:return s.a.formatString("Hidden pairs {0}/{1} in row {2}",[this._candidates[0],this._candidates[1],e]);case n.a.HIDDEN_PAIRS_COL:return s.a.formatString("Hidden pairs {0}/{1} in column {2}",[this._candidates[0],this._candidates[1],t]);case n.a.HIDDEN_PAIRS_BOX:return s.a.formatString("Hidden pairs {0}/{1} in box {2}",[this._candidates[0],this._candidates[1],i]);case n.a.HIDDEN_TRIPLES_ROW:return s.a.formatString("Hidden triples {0}/{1}/{2} in row {3}",[this._candidates[0],this._candidates[1],this._candidates[2],e]);case n.a.HIDDEN_TRIPLES_COL:return s.a.formatString("Hidden triples {0}/{1}/{2} in column {3}",[this._candidates[0],this._candidates[1],this._candidates[2],t]);case n.a.HIDDEN_TRIPLES_BOX:return s.a.formatString("Hidden triples {0}/{1}/{2} in box {3}",[this._candidates[0],this._candidates[1],this._candidates[2],i]);case n.a.HIDDEN_QUADS_ROW:return s.a.formatString("Hidden quads {0}/{1}/{2}/{3} in row {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],e]);case n.a.HIDDEN_QUADS_COL:return s.a.formatString("Hidden quads {0}/{1}/{2}/{3} in column {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],t]);case n.a.HIDDEN_QUADS_BOX:return s.a.formatString("Hidden quads {0}/{1}/{2}/{3} in box {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],i])}},t}(u)},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=function(){function e(){this._log=[]}return e.prototype.initialize=function(){this._log=[]},e.prototype.removeAllEntries=function(){this._log=[]},e.prototype.addEntry=function(e){this._log.push(e)},e.prototype.getLastEntry=function(){return this._log.length>0?this._log[this._log.length-1]:void 0},e.prototype.getAllEntries=function(){return this._log},e.prototype.getSize=function(){return this._log.length},e.prototype.removeLastEntry=function(){this._log.pop()},e.prototype.toStringFirstFirst=function(){for(var e="",t=1,i=0,r=this._log;i<r.length;i++){var o=r[i];e+=n.a.pad(t++,3)+". "+o.toString()+"\n"}return e},e.prototype.toStringLastFirst=function(){for(var e="",t=this._log.length;t>0;t--)e+=n.a.pad(t,3)+". "+this._log[t-1].toString()+"\n";return e},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(2),r=i(3),o=function(){function e(){this.nakedSingles=0,this.hiddenSinglesRow=0,this.hiddenSinglesCol=0,this.hiddenSinglesBox=0,this.nakedPairsRow=0,this.nakedPairsCol=0,this.nakedPairsBox=0,this.pointingRows=0,this.pointingCols=0,this.rowBoxReductions=0,this.colBoxReductions=0,this.nakedTriplesRow=0,this.nakedTriplesCol=0,this.nakedTriplesBox=0,this.nakedQuadsRow=0,this.nakedQuadsCol=0,this.nakedQuadsBox=0,this.hiddenPairsRow=0,this.hiddenPairsCol=0,this.hiddenPairsBox=0,this.hiddenTriplesRow=0,this.hiddenTriplesCol=0,this.hiddenTriplesBox=0,this.hiddenQuadsRow=0,this.hiddenQuadsCol=0,this.hiddenQuadsBox=0,this.guesses=0}return e.prototype.serialize=function(){return JSON.stringify({nakedSingles:this.nakedSingles,hiddenSinglesRow:this.hiddenSinglesRow,hiddenSinglesCol:this.hiddenSinglesCol,hiddenSinglesBox:this.hiddenSinglesBox,nakedPairsRow:this.nakedPairsRow,nakedPairsCol:this.nakedPairsCol,nakedPairsBox:this.nakedPairsBox,pointingRows:this.pointingRows,pointingCols:this.pointingCols,rowBoxReductions:this.rowBoxReductions,colBoxReductions:this.colBoxReductions,nakedTriplesRow:this.nakedTriplesRow,nakedTriplesCol:this.nakedTriplesCol,nakedTriplesBox:this.nakedTriplesBox,nakedQuadsRow:this.nakedQuadsRow,nakedQuadsCol:this.nakedQuadsCol,nakedQuadsBox:this.nakedQuadsBox,hiddenPairsRow:this.hiddenPairsRow,hiddenPairsCol:this.hiddenPairsCol,hiddenPairsBox:this.hiddenPairsBox,hiddenTriplesRow:this.hiddenTriplesRow,hiddenTriplesCol:this.hiddenTriplesCol,hiddenTriplesBox:this.hiddenTriplesBox,hiddenQuadsRow:this.hiddenQuadsRow,hiddenQuadsCol:this.hiddenQuadsCol,hiddenQuadsBox:this.hiddenQuadsBox,guesses:this.guesses})},e.deserialize=function(t){var i=JSON.parse(t),n=new e;return n.nakedSingles=i.nakedSingles,n.hiddenSinglesRow=i.hiddenSinglesRow,n.hiddenSinglesCol=i.hiddenSinglesCol,n.hiddenSinglesBox=i.hiddenSinglesBox,n.nakedPairsRow=i.nakedPairsRow,n.nakedPairsCol=i.nakedPairsCol,n.nakedPairsBox=i.nakedPairsBox,n.pointingRows=i.pointingRows,n.pointingCols=i.pointingCols,n.rowBoxReductions=i.rowBoxReductions,n.colBoxReductions=i.colBoxReductions,n.nakedTriplesRow=i.nakedTriplesRow,n.nakedTriplesCol=i.nakedTriplesCol,n.nakedTriplesBox=i.nakedTriplesBox,n.nakedQuadsRow=i.nakedQuadsRow,n.nakedQuadsCol=i.nakedQuadsCol,n.nakedQuadsBox=i.nakedQuadsBox,n.hiddenPairsRow=i.hiddenPairsRow,n.hiddenPairsCol=i.hiddenPairsCol,n.hiddenPairsBox=i.hiddenPairsBox,n.hiddenTriplesRow=i.hiddenTriplesRow,n.hiddenTriplesCol=i.hiddenTriplesCol,n.hiddenTriplesBox=i.hiddenTriplesBox,n.hiddenQuadsRow=i.hiddenQuadsRow,n.hiddenQuadsCol=i.hiddenQuadsCol,n.hiddenQuadsBox=i.hiddenQuadsBox,n.guesses=i.guesses,n},e.prototype.incrementHintCount=function(e){switch(e){case n.a.NAKED_SINGLE:this.nakedSingles++;case n.a.HIDDEN_SINGLE_ROW:this.hiddenSinglesRow++;case n.a.HIDDEN_SINGLE_COL:this.hiddenSinglesCol++;case n.a.HIDDEN_SINGLE_BOX:this.hiddenSinglesBox++;case n.a.NAKED_PAIRS_ROW:this.nakedPairsRow++;case n.a.NAKED_PAIRS_COL:this.nakedPairsCol++;case n.a.NAKED_PAIRS_BOX:this.nakedPairsBox++;case n.a.POINTING_ROW:this.pointingRows++;case n.a.POINTING_COL:this.pointingCols++;case n.a.ROW_BOX_REDUCTION:this.rowBoxReductions++;case n.a.COL_BOX_REDUCTION:this.colBoxReductions++;case n.a.NAKED_TRIPLES_ROW:this.nakedTriplesRow++;case n.a.NAKED_TRIPLES_COL:this.nakedTriplesCol++;case n.a.NAKED_TRIPLES_BOX:this.nakedTriplesBox++;case n.a.HIDDEN_PAIRS_ROW:this.hiddenPairsRow++;case n.a.HIDDEN_PAIRS_COL:this.hiddenPairsCol++;case n.a.HIDDEN_PAIRS_BOX:this.hiddenPairsBox++;case n.a.NAKED_QUADS_ROW:this.nakedQuadsRow++;case n.a.NAKED_QUADS_COL:this.nakedQuadsCol++;case n.a.NAKED_QUADS_BOX:this.nakedQuadsBox++;case n.a.HIDDEN_TRIPLES_ROW:this.hiddenTriplesRow++;case n.a.HIDDEN_TRIPLES_COL:this.hiddenTriplesCol++;case n.a.HIDDEN_TRIPLES_BOX:this.hiddenTriplesBox++;case n.a.HIDDEN_QUADS_ROW:this.hiddenQuadsRow++;case n.a.HIDDEN_QUADS_COL:this.hiddenQuadsCol++;case n.a.HIDDEN_QUADS_BOX:this.hiddenQuadsBox++;case n.a.GUESS:this.guesses++}},e.prototype.getNakedSingles=function(){return this.nakedSingles},e.prototype.getHiddenSingles=function(){return this.hiddenSinglesRow+this.hiddenSinglesCol+this.hiddenSinglesBox},e.prototype.getNakedPairs=function(){return this.nakedPairsRow+this.nakedPairsCol+this.nakedPairsBox},e.prototype.getPointingRowsCols=function(){return this.pointingRows+this.pointingCols},e.prototype.getBoxReductions=function(){return this.rowBoxReductions+this.colBoxReductions},e.prototype.getNakedTriples=function(){return this.nakedTriplesRow+this.nakedTriplesCol+this.nakedTriplesBox},e.prototype.getNakedQuads=function(){return this.nakedQuadsRow+this.nakedQuadsCol+this.nakedQuadsBox},e.prototype.getHiddenPairs=function(){return this.hiddenPairsRow+this.hiddenPairsCol+this.hiddenPairsBox},e.prototype.getHiddenTriples=function(){return this.hiddenTriplesRow+this.hiddenTriplesCol+this.hiddenTriplesBox},e.prototype.getHiddenQuads=function(){return this.hiddenQuadsRow+this.hiddenQuadsCol+this.hiddenQuadsBox},e.prototype.getGuesses=function(){return this.guesses},e.prototype.getTotalHints=function(){return 0+this.nakedSingles+this.hiddenSinglesRow+this.hiddenSinglesCol+this.hiddenSinglesBox+this.nakedPairsRow+this.nakedPairsCol+this.nakedPairsBox+this.pointingRows+this.pointingCols+this.rowBoxReductions+this.colBoxReductions+this.nakedTriplesRow+this.nakedTriplesCol+this.nakedTriplesBox+this.nakedQuadsRow+this.nakedQuadsCol+this.nakedQuadsBox+this.hiddenPairsRow+this.hiddenPairsCol+this.hiddenPairsBox+this.hiddenTriplesRow+this.hiddenTriplesCol+this.hiddenTriplesBox+this.hiddenQuadsRow+this.hiddenQuadsCol+this.hiddenQuadsBox+this.guesses},e.prototype.getActualDifficulty=function(){return this.guesses>0?r.a.HARDEST:this.getNakedTriples()>0||this.getNakedQuads()>0||this.getHiddenPairs()>0||this.getHiddenTriples()>0||this.getHiddenQuads()>0?r.a.HARD:this.getNakedPairs()>0||this.getPointingRowsCols()>0||this.getBoxReductions()>0?r.a.MEDIUM:(this.getHiddenSingles()>0||this.nakedSingles,r.a.EASY)},e.prototype.toString=function(){var e="";return e+="NS   : "+this.nakedSingles+"\n",e+="HS*  : "+this.hiddenSinglesRow+", "+this.hiddenSinglesCol+", "+this.hiddenSinglesBox+"\n",e+="NP*  : "+this.nakedPairsRow+", "+this.nakedPairsCol+", "+this.nakedPairsBox+"\n",e+="P*   : "+this.pointingRows+", "+this.pointingCols+"\n",e+="*BR  : "+this.rowBoxReductions+", "+this.colBoxReductions+"\n",e+="NT*  : "+this.nakedTriplesRow+", "+this.nakedTriplesCol+", "+this.nakedTriplesBox+"\n",e+="NQ*  : "+this.nakedQuadsRow+", "+this.nakedQuadsCol+", "+this.nakedQuadsBox+"\n",e+="HP*  : "+this.hiddenPairsRow+", "+this.hiddenPairsCol+", "+this.hiddenPairsBox+"\n",e+="HT*  : "+this.hiddenTriplesRow+", "+this.hiddenTriplesCol+", "+this.hiddenTriplesBox+"\n",e+="HQ*  : "+this.hiddenQuadsRow+", "+this.hiddenQuadsCol+", "+this.hiddenQuadsBox+"\n",e+="G    : "+this.guesses+"\n",e+="Total: "+this.getTotalHints()},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n;!function(e){e[e.SINGLE=0]="SINGLE",e[e.PAIR=1]="PAIR",e[e.TRIPLE=2]="TRIPLE",e[e.QUAD=3]="QUAD"}(n||(n={}))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(3),o=i(6),s=function(){function e(){this._initialValues=void 0,this._completedPuzzle=void 0,this._desiredDifficulty=void 0,this._actualDifficulty=void 0,this._generatePasses=void 0,this._solutionsCount=void 0,this._stats=void 0}return e.prototype.serialize=function(){return JSON.stringify({_initialValues:this._initialValues,_completedPuzzle:this._completedPuzzle,_desiredDifficulty:this._desiredDifficulty,_actualDifficulty:this._actualDifficulty,_generatePasses:this._generatePasses,_solutionsCount:this._solutionsCount,_stats:this._stats.serialize()})},e.deserialize=function(t){var i=JSON.parse(t),n=new e;return n._initialValues=i._initialValues,n._completedPuzzle=i._completedPuzzle,n._desiredDifficulty=i._desiredDifficulty,n._actualDifficulty=i._actualDifficulty,n._generatePasses=i._generatePasses,n._solutionsCount=i._solutionsCount,n._stats=o.a.deserialize(i._stats),n},Object.defineProperty(e.prototype,"initialValues",{get:function(){return this._initialValues},set:function(e){this._initialValues=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"completedPuzzle",{get:function(){return this._completedPuzzle},set:function(e){this._completedPuzzle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"desiredDifficulty",{get:function(){return this._desiredDifficulty},set:function(e){this._desiredDifficulty=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualDifficulty",{get:function(){return this._actualDifficulty},set:function(e){this._actualDifficulty=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"generatePasses",{get:function(){return this._generatePasses},set:function(e){this._generatePasses=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"solutionsCount",{get:function(){return this._solutionsCount},set:function(e){this._solutionsCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stats",{get:function(){return this._stats},set:function(e){this._stats=e},enumerable:!0,configurable:!0}),e.prototype.getInitialEmptyCells=function(){for(var e=0,t=0,i=this._initialValues;t<i.length;t++){0===i[t]&&e++}return e},e.prototype.getInitialFilledCells=function(){for(var e=0,t=0,i=this._initialValues;t<i.length;t++){0!=i[t]&&e++}return e},e.getDifficultyLabel=function(e){switch(e){case r.a.EASY:return"Easy";case r.a.MEDIUM:return"Medium";case r.a.HARD:return"Hard";case r.a.HARDEST:return"Hardest"}},e.prototype.toString=function(){var t="";return t+="-Given/empty/total cells: "+this.getInitialFilledCells()+"/"+this.getInitialEmptyCells()+"/"+(this.getInitialFilledCells()+this.getInitialEmptyCells())+"\n",t+="-Initial & finished values:\n",t+=n.a.valuesArrayToString(this._initialValues)+"\n",t+=n.a.valuesArrayToString(this._completedPuzzle)+"\n",t+="-Difficulty: "+e.getDifficultyLabel(this._actualDifficulty)+"\n",this._solutionsCount&&(t+="-Solutions count: "+this._solutionsCount+"\n"),this._stats&&(t+="-Stats:\n"+this._stats.toString()+"\n"),t},e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(18),r=postMessage,o=new n.a;onmessage=function(e){var t=e.data,i=o.createSudoku(t);r(i)}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(5),r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.addEntry=function(t){e.prototype.addEntry.call(this,t)},t.prototype.getLastEntry=function(){return e.prototype.getLastEntry.call(this)},t}(n.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(e,t){this._cell=e,this._candidate=t}return Object.defineProperty(e.prototype,"cell",{get:function(){return this._cell},set:function(e){this._cell=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"candidate",{get:function(){return this._candidate},set:function(e){this._candidate=e},enumerable:!0,configurable:!0}),e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(5),r=i(2),o=i(6),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.addEntry=function(t){e.prototype.addEntry.call(this,t)},t.prototype.getAllEntries=function(){return e.prototype.getAllEntries.call(this)},t.prototype.getLastEntry=function(){return e.prototype.getLastEntry.call(this)},t.prototype.getHintCounts=function(){for(var e=new o.a,t=0,i=this.getAllEntries();t<i.length;t++){switch(i[t].type){case r.a.NAKED_SINGLE:e.nakedSingles++;break;case r.a.HIDDEN_SINGLE_ROW:e.hiddenSinglesRow++;break;case r.a.HIDDEN_SINGLE_COL:e.hiddenSinglesCol++;break;case r.a.HIDDEN_SINGLE_BOX:e.hiddenSinglesBox++;break;case r.a.NAKED_PAIRS_ROW:e.nakedPairsRow++;break;case r.a.NAKED_PAIRS_COL:e.nakedPairsCol++;break;case r.a.NAKED_PAIRS_BOX:e.nakedPairsBox++;break;case r.a.POINTING_ROW:e.pointingRows++;break;case r.a.POINTING_COL:e.pointingCols++;break;case r.a.ROW_BOX_REDUCTION:e.rowBoxReductions++;break;case r.a.COL_BOX_REDUCTION:e.colBoxReductions++;break;case r.a.NAKED_TRIPLES_ROW:e.nakedTriplesRow++;break;case r.a.NAKED_TRIPLES_COL:e.nakedTriplesCol++;break;case r.a.NAKED_TRIPLES_BOX:e.nakedTriplesBox++;break;case r.a.NAKED_QUADS_ROW:e.nakedQuadsRow++;break;case r.a.NAKED_QUADS_COL:e.nakedQuadsCol++;break;case r.a.NAKED_QUADS_BOX:e.nakedQuadsBox++;break;case r.a.HIDDEN_PAIRS_ROW:e.hiddenPairsRow++;break;case r.a.HIDDEN_PAIRS_COL:e.hiddenPairsCol++;break;case r.a.HIDDEN_PAIRS_BOX:e.hiddenPairsBox++;break;case r.a.GUESS:e.guesses++}}return e},t}(n.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=i(11),o=i(7),s=i(3),a=i(4),u=i(2),d=function(){function e(e){this.sudokuService=e}return e.prototype.getHint=function(e){if(this.activeHint=void 0,this.checkNakedSingles()||this.checkHiddenSingles())return this.activeHint;if(e!==s.a.EASY){if(this.checkNakedPairs()||this.checkPointingRowCol()||this.checkRowBoxReductions()||this.checkColBoxReductions())return this.activeHint;if(e!==s.a.MEDIUM)return this.checkNakedTriples()||this.checkNakedQuads()||this.checkHiddenPairs()||this.checkHiddenTriples()?this.activeHint:void 0}},e.prototype.checkNakedSingles=function(){for(var e=0,t=n.a.shuffleArray(n.b.slice());e<t.length;e++){var i=t[e],r=this.sudokuService.findNakedCandidates(i,o.a.SINGLE);if(r.length>0)return this.activeHint=new a.a(u.a.NAKED_SINGLE,i,r[0]),!0}return!1},e.prototype.checkHiddenSingles=function(){for(var e=0,t=n.d;e<t.length;e++){var i=t[e];if(this.checkHiddenSinglesGroup(this.sudokuService.getRow(i),u.a.HIDDEN_SINGLE_ROW))return!0}for(var r=0,o=n.e;r<o.length;r++){var s=o[r];if(this.checkHiddenSinglesGroup(this.sudokuService.getCol(s),u.a.HIDDEN_SINGLE_COL))return!0}for(var a=0,d=n.f;a<d.length;a++){var l=d[a];if(this.checkHiddenSinglesGroup(this.sudokuService.getBox(l),u.a.HIDDEN_SINGLE_BOX))return!0}return!1},e.prototype.checkHiddenSinglesGroup=function(e,t){var i=-1;e:for(var r=0,o=n.g;r<o.length;r++){var s=o[r];if(!this.sudokuService.containsValue(e,s)){for(var u=0,d=0,l=e.cells;d<l.length;d++){var c=l[d];if(this.sudokuService.isCandidate(c,s)){if(++u>1)continue e;i=c}}if(1===u)return this.activeHint=new a.a(t,i,s),!0}}return!1},e.prototype.checkNakedPairs=function(){for(var e=[],t=0,i=n.b;t<i.length;t++){var r=i[t],s=this.sudokuService.findNakedCandidates(r,o.a.PAIR);s.length>0&&e.push({idx:r,cands:s})}if(0==e.length)return!1;for(var a=0;a<e.length;a++)for(var d=a+1;d<e.length;d++){var l=[];l=e[a].cands.slice();for(var c=0,h=e[d].cands;c<h.length;c++){var f=h[c];-1===l.indexOf(f)&&l.push(f)}if(2==l.length){var p=[e[a].idx,e[d].idx];if(n.a.areCellsInSameRow(p)&&this.checkNakedsRemoves(n.h[n.a.rowIdx(p[0])],p,l,u.a.NAKED_PAIRS_ROW))return!0;if(n.a.areCellsInSameCol(p)&&this.checkNakedsRemoves(n.i[n.a.colIdx(p[0])],p,l,u.a.NAKED_PAIRS_COL))return!0;if(n.a.areCellsInSameBox(p)&&this.checkNakedsRemoves(n.j[n.a.boxIdx(p[0])],p,l,u.a.NAKED_PAIRS_BOX))return!0}}return!1},e.prototype.checkNakedTriples=function(){for(var e=[],t=0,i=n.b;t<i.length;t++){var r=i[t],s=this.sudokuService.findNakedCandidates(r,o.a.TRIPLE);s.length>0&&e.push({idx:r,cands:s})}if(0==e.length)return!1;for(var a=0;a<e.length;a++)for(var d=a+1;d<e.length;d++)for(var l=d+1;l<e.length;l++){var c=[];c=e[a].cands.slice();for(var h=0,f=e[d].cands;h<f.length;h++){var p=f[h];-1===c.indexOf(p)&&c.push(p)}if(!(c.length>3)){for(var g=0,_=e[l].cands;g<_.length;g++){var p=_[g];-1===c.indexOf(p)&&c.push(p)}if(3==c.length){var v=[e[a].idx,e[d].idx,e[l].idx];if(n.a.areCellsInSameRow(v)&&this.checkNakedsRemoves(n.h[n.a.rowIdx(v[0])],v,c,u.a.NAKED_TRIPLES_ROW))return!0;if(n.a.areCellsInSameCol(v)&&this.checkNakedsRemoves(n.i[n.a.colIdx(v[0])],v,c,u.a.NAKED_TRIPLES_COL))return!0;if(n.a.areCellsInSameBox(v)&&this.checkNakedsRemoves(n.j[n.a.boxIdx(v[0])],v,c,u.a.NAKED_TRIPLES_BOX))return!0}}}return!1},e.prototype.checkNakedPairsGroup=function(e,t){return this.sudokuService.candidateCellsCount(e),!1},e.prototype.checkNakedTriplesGroup=function(e,t){return this.sudokuService.candidateCellsCount(e),!1},e.prototype.checkNakedQuadsGroup=function(e,t){return this.sudokuService.candidateCellsCount(e),!1},e.prototype.checkNakedQuads=function(){for(var e=[],t=0,i=n.b;t<i.length;t++){var r=i[t],s=this.sudokuService.findNakedCandidates(r,o.a.QUAD);s.length>0&&e.push({idx:r,cands:s})}if(0==e.length)return!1;for(var a=0;a<e.length;a++)for(var d=a+1;d<e.length;d++)for(var l=d+1;l<e.length;l++)for(var c=l+1;c<e.length;c++){var h=[];h=e[a].cands.slice();for(var f=0,p=e[d].cands;f<p.length;f++){var g=p[f];-1===h.indexOf(g)&&h.push(g)}if(!(h.length>4)){for(var _=0,v=e[l].cands;_<v.length;_++){var g=v[_];-1===h.indexOf(g)&&h.push(g)}if(!(h.length>4)){for(var S=0,k=e[c].cands;S<k.length;S++){var g=k[S];-1===h.indexOf(g)&&h.push(g)}if(4==h.length){var y=[e[a].idx,e[d].idx,e[l].idx,e[c].idx];if(n.a.areCellsInSameRow(y)&&this.checkNakedsRemoves(n.h[n.a.rowIdx(y[0])],y,h,u.a.NAKED_QUADS_ROW))return!0;if(n.a.areCellsInSameCol(y)&&this.checkNakedsRemoves(n.i[n.a.colIdx(y[0])],y,h,u.a.NAKED_QUADS_COL))return!0;if(n.a.areCellsInSameBox(y)&&this.checkNakedsRemoves(n.j[n.a.boxIdx(y[0])],y,h,u.a.NAKED_QUADS_BOX))return!0}}}}return!1},e.prototype.checkNakedsRemoves=function(e,t,i,n){for(var o=[],s=0,u=e;s<u.length;s++){var d=u[s];if(!(this.sudokuService.hasValue(d)||t.indexOf(d)>-1))for(var l=0,c=i;l<c.length;l++){var h=c[l];this.sudokuService.isCandidate(d,h)&&o.push(new r.a(d,h))}}return o.length>0&&(this.activeHint=new a.b(n,t,i,o),!0)},e.prototype.checkHiddenPairs=function(){for(var e=0,t=n.d;e<t.length;e++){var i=t[e];if(this.checkHiddenPairsGroup(this.sudokuService.getRow(i),u.a.HIDDEN_PAIRS_ROW))return!0}for(var r=0,o=n.e;r<o.length;r++){var s=o[r];if(this.checkHiddenPairsGroup(this.sudokuService.getCol(s),u.a.HIDDEN_PAIRS_COL))return!0}for(var a=0,d=n.f;a<d.length;a++){var l=d[a];if(this.checkHiddenPairsGroup(this.sudokuService.getBox(l),u.a.HIDDEN_PAIRS_BOX))return!0}return!1},e.prototype.checkHiddenTriples=function(){for(var e=0,t=n.d;e<t.length;e++){var i=t[e];if(this.checkHiddenTriplesGroup(this.sudokuService.getRow(i),u.a.HIDDEN_TRIPLES_ROW))return!0}for(var r=0,o=n.e;r<o.length;r++){var s=o[r];if(this.checkHiddenTriplesGroup(this.sudokuService.getCol(s),u.a.HIDDEN_TRIPLES_COL))return!0}for(var a=0,d=n.f;a<d.length;a++){var l=d[a];if(this.checkHiddenTriplesGroup(this.sudokuService.getBox(l),u.a.HIDDEN_TRIPLES_BOX))return!0}return!1},e.prototype.checkHiddenQuads=function(){for(var e=0,t=n.d;e<t.length;e++){var i=t[e];if(this.checkHiddenQuadsGroup(this.sudokuService.getRow(i),u.a.HIDDEN_QUADS_ROW))return!0}for(var r=0,o=n.e;r<o.length;r++){var s=o[r];if(this.checkHiddenQuadsGroup(this.sudokuService.getCol(s),u.a.HIDDEN_QUADS_COL))return!0}for(var a=0,d=n.f;a<d.length;a++){var l=d[a];if(this.checkHiddenQuadsGroup(this.sudokuService.getBox(l),u.a.HIDDEN_QUADS_BOX))return!0}return!1},e.prototype.checkHiddenPairsGroup=function(e,t){var i=[],r=[],o=[];i=this.sudokuService.getCandidateCounts(e);for(var s=0,u=n.g;s<u.length;s++){var d=u[s];2===i[d]&&r.push(d)}if(r.length<2)return!1;e:for(var l=0,c=e.cells;l<c.length;l++)for(var h=c[l],f=0,p=r;f<p.length;f++){var d=p[f];if(this.sudokuService.isCandidate(h,d)){o.push(h);continue e}}for(var g=n.a.pairwise(o),_=0,v=g;_<v.length;_++){for(var S=v[_],k=S,y=[],E=[0,0,0,0,0,0,0,0,0,0],R=[],D=0,C=r;D<C.length;D++)for(var d=C[D],I=0;I<2;I++)this.sudokuService.isCandidate(k[I],d)&&(E[d]++,-1===y.indexOf(d)&&y.push(d));if(!(y.length<2)){for(var O=0,A=y;O<A.length;O++){var d=A[O];E[d]==i[d]&&R.push(d)}if(2==R.length){var N=this.findHiddenRemoves(S,R);if(N.length>0)return this.activeHint=new a.b(t,S,R,N),!0}}}return!1},e.prototype.checkHiddenTriplesGroup=function(e,t){var i=[],r=[],o=[];i=this.sudokuService.getCandidateCounts(e);for(var s=0,u=n.g;s<u.length;s++){var d=u[s];i[d]>=2&&i[d]<=3&&r.push(d)}if(r.length<3)return!1;e:for(var l=0,c=e.cells;l<c.length;l++)for(var h=c[l],f=0,p=r;f<p.length;f++){var d=p[f];if(this.sudokuService.isCandidate(h,d)){o.push(h);continue e}}for(var g=n.a.tripwise(o),_=0,v=g;_<v.length;_++){for(var S=v[_],k=S,y=[],E=[0,0,0,0,0,0,0,0,0,0],R=[],D=0,C=r;D<C.length;D++)for(var d=C[D],I=0;I<3;I++)this.sudokuService.isCandidate(k[I],d)&&(E[d]++,-1===y.indexOf(d)&&y.push(d));if(!(y.length<3)){for(var O=0,A=y;O<A.length;O++){var d=A[O];E[d]==i[d]&&R.push(d)}if(3==R.length){var N=this.findHiddenRemoves(S,R);if(N.length>0)return this.activeHint=new a.b(t,S,R,N),!0}}}return!1},e.prototype.checkHiddenQuadsGroup=function(e,t){var i=[],r=[],o=[];i=this.sudokuService.getCandidateCounts(e);for(var s=0,u=n.g;s<u.length;s++){var d=u[s];i[d]>=2&&i[d]<=4&&r.push(d)}if(console.log("kCounts       : "+JSON.stringify(i)),console.log("quadCandidates: "+JSON.stringify(r)+" (need at least 4)"),r.length<4)return!1;e:for(var l=0,c=e.cells;l<c.length;l++)for(var h=c[l],f=0,p=r;f<p.length;f++){var d=p[f];if(this.sudokuService.isCandidate(h,d)){o.push(h);continue e}}console.log("quadCells     : "+JSON.stringify(o));for(var g=o.length,_=0;_<g-3;_++)for(var v=_+1;v<g-2;v++)for(var S=v+1;S<g-1;S++)for(var k=S+1;k<g-0;k++){for(var y=[o[_],o[v],o[S],o[k]],E=[],R=[0,0,0,0,0,0,0,0,0,0],D=[],C=0,I=r;C<I.length;C++)for(var d=I[C],O=0,A=[_,v,S,k];O<A.length;O++){var N=A[O];this.sudokuService.isCandidate(o[N],d)&&(R[d]++,-1===E.indexOf(d)&&E.push(d))}if(console.log("_4quadCells   : "+JSON.stringify(y)),console.log("_4cands       : "+JSON.stringify(E)+" (need at least 4)"),!(E.length<4)){for(var x=0,b=E;x<b.length;x++){var d=b[x];R[d]==i[d]&&D.push(d)}if(console.log("_4kCounts1    : "+JSON.stringify(R)),console.log("_4matchedCands: "+JSON.stringify(D)+" (need exactly 4)"),4==D.length){var P=this.findHiddenRemoves([o[_],o[v],o[S],o[k]],D);if(console.log("removes      : "+P.length+" (need at least 1)"),P.length>0)return this.activeHint=new a.b(t,[o[_],o[v],o[S],o[k]],D,P),console.log("hint: "+JSON.stringify(this.activeHint)),!0}}}return!1},e.prototype.findHiddenRemoves=function(e,t){for(var i=[],n=0,o=e;n<o.length;n++)for(var s=o[n],a=this.sudokuService.getCandidates(s).slice(),u=0,d=a;u<d.length;u++){var l=d[u];-1===t.indexOf(l)&&i.push(new r.a(s,l))}return i},e.prototype.checkPointingRowCol=function(){for(var e=0,t=n.f;e<t.length;e++){var i=t[e];e:for(var o=0,s=n.g;o<s.length;o++){var d=s[o],l=[];if(!this.sudokuService.containsValue(this.sudokuService.getBox(i),d)){for(var c=0,h=n.j[i];c<h.length;c++){var f=h[c];if(this.sudokuService.isCandidate(f,d)&&(l.push(f),l.length>3))continue e}if(!(l.length<2)){var p=n.a.areCellsInSameRow(l),g=n.a.areCellsInSameCol(l);if(p||g){var _=[];if(p){for(var v=0,S=n.h[n.a.rowIdx(l[0])];v<S.length;v++){var f=S[v];n.a.boxIdx(f)!==i&&(this.sudokuService.isCandidate(f,d)&&_.push(new r.a(f,d)))}if(_.length>0)return this.activeHint=new a.b(u.a.POINTING_ROW,[l[0]],[d],_),!0}else{for(var k=0,y=n.i[n.a.colIdx(l[0])];k<y.length;k++){var f=y[k];n.a.boxIdx(f)!==i&&(this.sudokuService.isCandidate(f,d)&&_.push(new r.a(f,d)))}if(_.length>0)return this.activeHint=new a.b(u.a.POINTING_COL,[l[0]],[d],_),!0}}}}}}return!1},e.prototype.checkRowBoxReductions=function(){for(var e=0,t=n.d;e<t.length;e++){var i=t[e];e:for(var o=0,s=n.g;o<s.length;o++){var d=s[o];if(!this.sudokuService.containsValue(this.sudokuService.getRow(i),d)){for(var l=[],c=0,h=n.h[i];c<h.length;c++){var f=h[c];if(this.sudokuService.isCandidate(f,d)&&(l.push(f),l.length>3))continue e}if(!(l.length<2)&&n.a.areCellsInSameBox(l)){for(var p=[],g=0,_=n.j[n.a.boxIdx(l[0])];g<_.length;g++){var f=_[g];n.h[i].indexOf(f)>=0||this.sudokuService.isCandidate(f,d)&&p.push(new r.a(f,d))}if(p.length>0)return this.activeHint=new a.b(u.a.ROW_BOX_REDUCTION,[l[0]],[d],p),!0}}}}return!1},e.prototype.checkColBoxReductions=function(){for(var e=0,t=n.e;e<t.length;e++){var i=t[e];e:for(var o=0,s=n.g;o<s.length;o++){var d=s[o];if(!this.sudokuService.containsValue(this.sudokuService.getCol(i),d)){for(var l=[],c=0,h=n.i[i];c<h.length;c++){var f=h[c];if(this.sudokuService.isCandidate(f,d)&&(l.push(f),l.length>3))continue e}if(!(l.length<2)&&n.a.areCellsInSameBox(l)){for(var p=[],g=0,_=n.j[n.a.boxIdx(l[0])];g<_.length;g++){var f=_[g];n.i[i].indexOf(f)>=0||this.sudokuService.isCandidate(f,d)&&p.push(new r.a(f,d))}if(p.length>0)return this.activeHint=new a.b(u.a.COL_BOX_REDUCTION,[l[0]],[d],p),!0}}}}return!1},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=function(){function e(e,t,i){this._value=0,this._candidates=new Array(10),this.setAllCandidates(),this._rowIndex=e,this._colIndex=t,this._boxIndex=i}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"candidates",{get:function(){return this._candidates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowIndex",{get:function(){return this._rowIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colIndex",{get:function(){return this._colIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxIndex",{get:function(){return this._boxIndex},enumerable:!0,configurable:!0}),e.prototype.setAllCandidates=function(){for(var e=0,t=n.g;e<t.length;e++){var i=t[e];this._candidates[i]=!0}},e.prototype.unsetAllCandidates=function(){for(var e=0,t=n.g;e<t.length;e++){var i=t[e];this._candidates[i]=!1}},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=function(){function e(e){this.vOccurrences=new Array(10);for(var t=0,i=n.c;t<i.length;t++){var r=i[t];this.vOccurrences[r]=0}this.cells=e}return e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(14),r=i(15),o=i(0),s=function(){function e(){this._cells=new Array(81),this._rows=new Array(9),this._cols=new Array(9),this._boxs=new Array(9);for(var e=0,t=o.k;e<t.length;e++){var i=t[e];this._rows[i]=new r.a(o.h[i]),this._cols[i]=new r.a(o.i[i]),this._boxs[i]=new r.a(o.j[i])}for(var s=0,a=o.b;s<a.length;s++){var u=a[s];this._cells[u]=new n.a(o.a.rowIdx(u),o.a.colIdx(u),o.a.boxIdx(u))}}return Object.defineProperty(e.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxs",{get:function(){return this._boxs},enumerable:!0,configurable:!0}),e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(8),r=i(7),o=i(1),s=i(0),a=i(16),u=function(){function e(){this.currentSudoku=void 0,this.sudokuModel=void 0,this.sudokuModel=new a.a,this.initializeModel()}return e.prototype.initializeModel=function(){for(var e=0,t=s.b;e<t.length;e++){var i=t[e];this.initializeCell(this.sudokuModel.cells[i])}for(var n=0,r=s.k;n<r.length;n++){var o=r[n];this.initializeGroup(this.sudokuModel.rows[o]),this.initializeGroup(this.sudokuModel.cols[o]),this.initializeGroup(this.sudokuModel.boxs[o])}},e.prototype.getCurrentSudoku=function(){return this.currentSudoku},e.prototype.loadProvidedSudoku=function(e){var t=new n.a;t.initialValues=e,this.initializeModel();for(var i=0,r=s.b;i<r.length;i++){var a=r[i],u=(this.sudokuModel.cells[a],e[a]);0!==u&&this.setValue(a,u,o.a.SET_VALUE)}return t},e.prototype.setAllValues=function(e){for(var t=0,i=s.b;t<i.length;t++){var n=i[t];this.sudokuModel.cells[n].value=e[n],this.removeAllCellCandidates(n)}for(var r=0,o=s.k;r<o.length;r++)for(var a=o[r],u=0,d=s.c;u<d.length;u++){var l=d[u];this.sudokuModel.rows[a].vOccurrences[l]=1,this.sudokuModel.cols[a].vOccurrences[l]=1,this.sudokuModel.boxs[a].vOccurrences[l]=1}},e.prototype.getValue=function(e){return this.sudokuModel.cells[e].value},e.prototype.setValue=function(e,t,i,n,r){var o=this.sudokuModel.cells[e];if(0!=o.value){if(o.value===t)return;this.removeValue(e)}o.value=t,this.removeAllCellCandidates(e),this.sudokuModel.rows[o.rowIndex].vOccurrences[t]++,this.sudokuModel.cols[o.colIndex].vOccurrences[t]++,this.sudokuModel.boxs[o.boxIndex].vOccurrences[t]++;for(var a=0,u=s.a.getRelatedCells(e);a<u.length;a++){var d=u[a];0==this.sudokuModel.cells[d].value&&(this.sudokuModel.cells[d].candidates[t]=!1)}},e.prototype.removeValue=function(e){var t=this.sudokuModel.cells[e],i=t.value;if(0!==i){t.value=0;var n=this.sudokuModel.rows[t.rowIndex],r=this.sudokuModel.cols[t.colIndex],o=this.sudokuModel.boxs[t.boxIndex];n.vOccurrences[i]--,r.vOccurrences[i]--,o.vOccurrences[i]--;for(var a=0,u=s.c;a<u.length;a++){var d=u[a];n.vOccurrences[i]>0||r.vOccurrences[i]>0||o.vOccurrences[i]>0||this.addCandidate(e,d)}for(var l=0,c=s.a.getRelatedCells(e);l<c.length;l++){var h=c[l],f=this.sudokuModel.cells[h],p=this.sudokuModel.rows[f.rowIndex],g=this.sudokuModel.cols[f.colIndex],_=this.sudokuModel.boxs[f.boxIndex];p.vOccurrences[i]>0||g.vOccurrences[i]>0||_.vOccurrences[i]>0||this.addCandidate(h,i)}}},e.prototype.removeCandidate=function(e,t,i){this.sudokuModel.cells[e].candidates[t]=!1},e.prototype.restoreCandidate=function(e,t){this.isPossibleCandidate(e,t)&&(this.sudokuModel.cells[e].candidates[t]=!0)},e.prototype.undoAction=function(e){switch(e.type){case o.a.SET_VALUE:case o.a.GUESS_VALUE:this.removeValue(e.cell);break;case o.a.REMOVE_CANDIDATE:this.addCandidate(e.cell,e.candidate)}},e.prototype.findNakedCandidates=function(e,t){var i=0;switch(t){case r.a.SINGLE:i=1;break;case r.a.PAIR:i=2;break;case r.a.TRIPLE:i=3;break;case r.a.QUAD:i=4}var n=[];if(this.hasValue(e))return[];for(var o=0,a=s.g;o<a.length;o++){var u=a[o];if(this.isCandidate(e,u)&&(n.push(u),n.length>i))return[]}return n},e.prototype.isSolved=function(){for(var e=0,t=s.d;e<t.length;e++)for(var i=t[e],n=0,r=s.c;n<r.length;n++){var o=r[n];if(1!=this.sudokuModel.rows[i].vOccurrences[o])return!1}return!0},e.prototype.hasValue=function(e){return this.sudokuModel.cells[e].value>0},e.prototype.getRow=function(e){return this.sudokuModel.rows[e]},e.prototype.getCol=function(e){return this.sudokuModel.cols[e]},e.prototype.getBox=function(e){return this.sudokuModel.boxs[e]},e.prototype.containsValue=function(e,t){return 1===e.vOccurrences[t]},e.prototype.candidateCellsCount=function(e){for(var t=0,i=0,n=s.c;i<n.length;i++){var r=n[i];0===e.vOccurrences[r]&&t++}return t},e.prototype.getCandidateCounts=function(e){for(var t=[0,0,0,0,0,0,0,0,0,0],i=0,n=s.c;i<n.length;i++){var r=n[i];if(!this.groupContainsValue(e,r))for(var o=0,a=e.cells;o<a.length;o++){var u=a[o];this.hasValue(u)||this.sudokuModel.cells[u].candidates[r]&&t[r]++}}return t},e.prototype.isImpossible=function(){return!this.isSolutionPossible()},e.prototype.getCandidates=function(e){if(this.hasValue(e))return[];for(var t=[],i=0,n=s.g;i<n.length;i++){var r=n[i];this.sudokuModel.cells[e].candidates[r]&&t.push(r)}return t},e.prototype.isCandidate=function(e,t){return this.sudokuModel.cells[e].candidates[t]},e.prototype.isCellValid=function(e){try{if(this.isGroupValid(this.sudokuModel.rows[s.a.rowIdx(e)])&&this.isGroupValid(this.sudokuModel.cols[s.a.colIdx(e)])&&this.isGroupValid(this.sudokuModel.boxs[s.a.boxIdx(e)]))return!0}catch(t){console.info("c: "+e),console.info("r: "+s.a.rowIdx(e)),console.info("c: "+s.a.colIdx(e)),console.info("b: "+s.a.boxIdx(e))}return!1},e.prototype.isValueComplete=function(e){for(var t=0,i=0,n=s.b;i<n.length;i++){var r=n[i];this.sudokuModel.cells[r].value===e&&t++}return 9===t},e.prototype.getNumberOfCandidates=function(e){for(var t=0,i=this.sudokuModel.cells[e],n=0,r=s.g;n<r.length;n++){var o=r[n];i.candidates[o]&&t++}return t},e.prototype.cellsToValuesArray=function(){for(var e=[],t=0,i=s.b;t<i.length;t++){var n=i[t];e.push(this.sudokuModel.cells[n].value)}return e},e.prototype.refreshAllCandidates=function(){for(var e=0,t=s.b;e<t.length;e++){var i=t[e];this.hasValue(i)||(this.removeAllCellCandidates(i),this.setCellCandidates(i))}},e.prototype.initializeCell=function(e){e.value=0;for(var t=0,i=s.g;t<i.length;t++){var n=i[t];e.candidates[n]=!0}},e.prototype.initializeGroup=function(e){for(var t=0,i=s.c;t<i.length;t++){var n=i[t];e.vOccurrences[n]=0}},e.prototype.setCellCandidates=function(e){if(!this.hasValue(e))for(var t=this.sudokuModel.cells[e],i=this.sudokuModel.rows[t.rowIndex],n=this.sudokuModel.cols[t.colIndex],r=this.sudokuModel.boxs[t.boxIndex],o=0,a=s.c;o<a.length;o++){var u=a[o];0==i.vOccurrences[u]&&0==n.vOccurrences[u]&&0==r.vOccurrences[u]&&this.addCandidate(e,u)}},e.prototype.isCellStateValid=function(e){return this.hasValue(e)&&!this.hasCandidates(e)||!this.hasValue(e)&&this.hasCandidates(e)},e.prototype.isGroupValid=function(e){for(var t=0,i=s.c;t<i.length;t++){var n=i[t];if(e.vOccurrences[n]>1)return!1}return!0},e.prototype.isSolutionPossible=function(){for(var e=0,t=s.b;e<t.length;e++){var i=t[e];if(!this.isCellStateValid(i))return!1}for(var n=0,r=s.k;n<r.length;n++){var o=r[n];if(!this.isGroupValid(this.sudokuModel.rows[o]))return!1;if(!this.isGroupValid(this.sudokuModel.cols[o]))return!1;if(!this.isGroupValid(this.sudokuModel.boxs[o]))return!1}return!0},e.prototype.groupContainsValue=function(e,t){return 1===e.vOccurrences[t]},e.prototype.valueCellsCount=function(e){for(var t=0,i=0,n=s.c;i<n.length;i++){var r=n[i];e.vOccurrences[r]>0&&t++}return t},e.prototype.hasCandidates=function(e){for(var t=0,i=s.g;t<i.length;t++){var n=i[t];if(this.sudokuModel.cells[e].candidates[n])return!0}return!1},e.prototype.cellValuesToArray=function(){for(var e=[],t=0,i=s.b;t<i.length;t++){var n=i[t];e.push(this.sudokuModel.cells[n].value)}return e},e.prototype.toOneLineString=function(){for(var e,t="",i=0,n=s.b;i<n.length;i++){var r=n[i];e=this.sudokuModel.cells[r].value,t+=0===e?".":e}return t},e.prototype.toGridString=function(){return this.arrayToGridString(this.cellValuesToArray())},e.prototype.rowToString=function(e){var t="Row "+(e+1)+": ";return t+=this.groupToString(this.sudokuModel.rows[e])},e.prototype.colToString=function(e){var t="Col "+(e+1)+": ";return t+=this.groupToString(this.sudokuModel.cols[e])},e.prototype.boxToString=function(e){var t="Box "+(e+1)+": ";return t+=this.groupToString(this.sudokuModel.boxs[e])},e.prototype.groupToString=function(e){for(var t="",i=0,n=s.c;i<n.length;i++){var r=n[i];t+=0===e.vOccurrences[r]?".":e.vOccurrences[r],3!=r&&6!=r||(t+=" ")}t+=" ";for(var o=0;o<e.cells.length;o++)t+=s.a.pad(e.cells[o],2)+" ",2!=o&&5!=o||(t+=" ");return t},e.prototype.cellToString=function(e){var t=this.sudokuModel.cells[e],i=s.a.toRowColString(e)+": ";i+="v:"+(0!=t.value?t.value:"."),i+=" k:";for(var n=0,r=s.g;n<r.length;n++){var o=r[n];i+=t.candidates[o]?o:"."}return i+=" r"+(t.rowIndex+1)+" c"+(t.colIndex+1)+" b"+(t.boxIndex+1)},e.prototype.toString=function(){for(var e="",t=0,i=s.d;t<i.length;t++){var n=i[t];e+=this.rowToString(n)+"\n"}for(var r=0,o=s.e;r<o.length;r++){var a=o[r];e+=this.colToString(a)+"\n"}for(var u=0,d=s.f;u<d.length;u++){var l=d[u];e+=this.boxToString(l)+"\n"}for(var c=0,h=s.b;c<h.length;c++){var a=h[c];e+=this.cellToString(a)+"\n"}return e},e.prototype.toStringRow=function(e){var t="";t+=this.rowToString(e)+"\n";for(var i=0,n=s.h[e];i<n.length;i++){var r=n[i];t+=this.cellToString(r)+"\n"}return t},e.prototype.getCandidates_=function(e,t){return this.getCandidates(s.a.urcToCellIdx(e,t))},e.prototype.addCandidate=function(e,t){if(!(this.sudokuModel.cells[e].value>0)){for(var i=0,n=s.a.getRelatedCells(e);i<n.length;i++){var r=n[i];if(this.sudokuModel.cells[r].value===t)return}this.sudokuModel.cells[e].candidates[t]=!0}},e.prototype.isPossibleCandidate=function(e,t){for(var i=0,n=s.a.getRelatedCells(e);i<n.length;i++){var r=n[i];if(this.sudokuModel.cells[r].value===t)return!1}return!0},e.prototype.setAllCellCandidates=function(e){this.sudokuModel.cells[e].setAllCandidates()},e.prototype.removeAllCellCandidates=function(e){this.sudokuModel.cells[e].unsetAllCandidates()},e.prototype.arrayToGridString=function(e){for(var t,i="",n=0,r=0,o=s.b;r<o.length;r++){t=e[o[r]],n>0&&n%3==0&&n%9!=0&&(i+="| "),n>0&&n%9==0&&(i+="\n"),n>0&&n%27==0&&(i+="------+-------+------\n"),i+=0===t?". ":t+" ",n++}return i},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(0),r=i(3),o=i(8),s=i(1),a=i(10),u=i(4),d=i(2),l=i(13),c=i(12),h=i(17),f=function(){function e(){this.hintLog=new c.a,this.actionLog=new a.a,this.sudokuService=new h.a,this.hintService=new l.a(this.sudokuService)}return e.prototype.createSudoku=function(e){console.info("In creationService.createSudoku() difficulty: "+e),this.actionLog.initialize();var t=new o.a;t.desiredDifficulty=e,t.completedPuzzle=this.makeRandomSolution();for(var i=0,n=t.desiredDifficulty;t.actualDifficulty!=n;)i++,this.getStartingValues(t),void 0!==t.initialValues&&this.completePuzzle(t);return t.generatePasses=i,console.info("\nCreated "+o.a.getDifficultyLabel(t.actualDifficulty)+" in "+t.generatePasses+" passes"),t.serialize()},e.prototype.initializeLogs=function(){this.hintLog.initialize(),this.actionLog.initialize()},e.prototype.makeRandomSolution=function(){var e=Date.now();this.sudokuService.initializeModel(),this.initializeLogs(),this.randomCellIndexes=n.a.shuffleArray(n.b.slice()),this.randomValues=n.a.shuffleArray(n.c.slice());for(var t=0,i=n.c;t<i.length;t++){var r=i[t];this.sudokuService.setValue(this.randomCellIndexes[r],r,s.a.GUESS_VALUE)}this.solve();Date.now();return this.sudokuService.cellsToValuesArray()},e.prototype.getStartingValues=function(e){Date.now();this.sudokuService.setAllValues(e.completedPuzzle),this.initializeLogs(),this.randomCellIndexes=n.a.shuffleArray(n.b.slice()),this.randomValues=n.a.shuffleArray(n.c.slice());var t=n.a.shuffleArray(n.b.slice(0,41)),i=0,o=0;e:for(var a=0,u=t;a<u.length;a++){var d=u[a],l=80-d,c=this.sudokuService.getValue(d),h=this.sudokuService.getValue(l);if(this.sudokuService.removeValue(d),this.sudokuService.removeValue(l),!(++o<=9)){switch(e.desiredDifficulty){case r.a.EASY:case r.a.MEDIUM:case r.a.HARD:for(var f=!1,p=this.hintService.getHint(e.desiredDifficulty);p;)p.getDifficultyRating()===r.a.HARD&&(f=!0),this.applyHint(p),p=this.hintService.getHint(e.desiredDifficulty);var g=this.sudokuService.isSolved();if(this.rollbackAll(),g){f&&i++;continue e}case r.a.HARDEST:var _=this.countSolutions();if(this.rollbackAll(),_<=1)continue e}this.sudokuService.setValue(d,c,s.a.SET_VALUE),this.sudokuService.setValue(l,h,s.a.SET_VALUE)}}e.desiredDifficulty===r.a.HARD&&0===i?e.initialValues=void 0:e.initialValues=this.sudokuService.cellsToValuesArray()},e.prototype.completePuzzle=function(e){var t=Date.now();this.initializeLogs(),this.randomCellIndexes=n.a.shuffleArray(n.b.slice()),this.randomValues=n.a.shuffleArray(n.c.slice()),this.solve(),e.completedPuzzle=this.sudokuService.cellsToValuesArray(),e.stats=this.hintLog.getHintCounts(),e.actualDifficulty=e.stats.getActualDifficulty();Date.now()},e.prototype.solve=function(){for(var e=this.hintService.getHint(r.a.HARDEST);void 0!=e;){if(this.applyHint(e),this.sudokuService.isSolved())return!0;if(this.sudokuService.isImpossible())return!1;e=this.hintService.getHint(r.a.HARDEST)}for(var t=void 0;this.guess(t);){if(this.solve())return!0;t=this.rollbackToLastGuess()}return!1},e.prototype.countSolutions=function(){for(var e=this.hintService.getHint(r.a.HARDEST);void 0!=e;){if(this.applyHint(e),this.sudokuService.isSolved())return this.rollbackToLastGuess(),1;if(this.sudokuService.isImpossible())return this.rollbackToLastGuess(),0;e=this.hintService.getHint(r.a.HARDEST)}for(var t=0,i=void 0;this.guess(i);){if((t+=this.countSolutions())>=2)return this.rollbackToLastGuess(),t;i=this.rollbackToLastGuess()}return this.rollbackToLastGuess(),t},e.prototype.applyHint=function(e){if(void 0!=e){switch(this.hintLog.addEntry(e),e.type){case d.a.NAKED_SINGLE:case d.a.HIDDEN_SINGLE_ROW:case d.a.HIDDEN_SINGLE_COL:case d.a.HIDDEN_SINGLE_BOX:var t=e;this.sudokuService.setValue(t.cell,t.value,s.a.SET_VALUE,void 0,t),this.actionLog.addEntry(new s.b(s.a.SET_VALUE,t.cell,t.value,t));break;default:for(var i=e,n=i.removes,r=0,o=n;r<o.length;r++){var a=o[r];this.sudokuService.removeCandidate(a.cell,a.candidate,i),this.actionLog.addEntry(new s.c(s.a.REMOVE_CANDIDATE,a.cell,a.candidate,i))}}e=void 0}},e.prototype.guess=function(e){var t=void 0,i=[],n=void 0;if(void 0==e)t=this.findFewestCandidatesCell(),i=this.sudokuService.getCandidates(t);else if(t=e.cell,i=e.possibleValues,0===i.length)return!1;return n=i[0],i=i.slice(1),this.hintLog.addEntry(new u.a(d.a.GUESS,t,n)),this.sudokuService.setValue(t,n,s.a.GUESS_VALUE,i),this.actionLog.addEntry(new s.d(s.a.GUESS_VALUE,t,n,i)),!0},e.prototype.findFewestCandidatesCell=function(){for(var e,t=10,i=-1,n=0,r=this.randomCellIndexes;n<r.length;n++){var o=r[n];if(!this.sudokuService.hasValue(o)){if(2===(e=this.sudokuService.getNumberOfCandidates(o)))return o;if(e<t&&(t=e,i=o),t<=2)break}}return i},e.prototype.rollbackToLastGuess=function(){for(var e=this.actionLog.getLastEntry();e&&e.type!=s.a.GUESS_VALUE;)this.sudokuService.undoAction(e),this.actionLog.removeLastEntry(),e=this.actionLog.getLastEntry();if(this.actionLog.getLastEntry()&&this.actionLog.getLastEntry().type===s.a.GUESS_VALUE)return this.sudokuService.undoAction(this.actionLog.getLastEntry()),this.actionLog.getLastEntry()},e.prototype.rollbackAll=function(){for(;this.actionLog.getLastEntry();)this.sudokuService.undoAction(this.actionLog.getLastEntry()),this.actionLog.removeLastEntry()},e}()},function(e,t,i){e.exports=i(9)}])}});