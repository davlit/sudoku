!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s="fbPV")}({fbPV:function(t,e){!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=18)}([function(t,e,i){"use strict";i.d(e,"c",function(){return r}),i.d(e,"g",function(){return o}),i.d(e,"k",function(){return s}),i.d(e,"d",function(){return a}),i.d(e,"e",function(){return u}),i.d(e,"f",function(){return d}),i.d(e,"b",function(){return l}),i.d(e,"h",function(){return c}),i.d(e,"i",function(){return h}),i.d(e,"j",function(){return f}),i.d(e,"a",function(){return p});var n,r=[1,2,3,4,5,6,7,8,9],o=r,s=[0,1,2,3,4,5,6,7,8],a=s,u=s,d=s,l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],c=[[0,1,2,3,4,5,6,7,8],[9,10,11,12,13,14,15,16,17],[18,19,20,21,22,23,24,25,26],[27,28,29,30,31,32,33,34,35],[36,37,38,39,40,41,42,43,44],[45,46,47,48,49,50,51,52,53],[54,55,56,57,58,59,60,61,62],[63,64,65,66,67,68,69,70,71],[72,73,74,75,76,77,78,79,80]],h=[[0,9,18,27,36,45,54,63,72],[1,10,19,28,37,46,55,64,73],[2,11,20,29,38,47,56,65,74],[3,12,21,30,39,48,57,66,75],[4,13,22,31,40,49,58,67,76],[5,14,23,32,41,50,59,68,77],[6,15,24,33,42,51,60,69,78],[7,16,25,34,43,52,61,70,79],[8,17,26,35,44,53,62,71,80]],f=[[0,1,2,9,10,11,18,19,20],[3,4,5,12,13,14,21,22,23],[6,7,8,15,16,17,24,25,26],[27,28,29,36,37,38,45,46,47],[30,31,32,39,40,41,48,49,50],[33,34,35,42,43,44,51,52,53],[54,55,56,63,64,65,72,73,74],[57,58,59,66,67,68,75,76,77],[60,61,62,69,70,71,78,79,80]];!function(t){t[t.SEQUENTIAL=0]="SEQUENTIAL",t[t.RANDOM=1]="RANDOM"}(n||(n={}));var p=function(){function t(){}return t.userRow=function(t){return Math.floor(t/9)+1},t.userCol=function(t){return t%9+1},t.userBox=function(t){return 3*Math.floor(t/27)+Math.floor(t%9/3)+1},t.urcToCellIdx=function(t,e){return 9*t+e-10},t.rowIdx=function(t){return Math.floor(t/9)},t.colIdx=function(t){return t%9},t.boxIdx=function(t){return 3*Math.floor(t/27)+Math.floor(t%9/3)},t.getRelatedCells=function(e){for(var i=[],n=(t.rowIdx(e),t.colIdx(e),t.boxIdx(e),0),r=c[t.rowIdx(e)];n<r.length;n++){var o=r[n];o!==e&&i.push(o)}for(var s=0,a=h[t.colIdx(e)];s<a.length;s++){var u=a[s];u!==e&&i.push(u)}for(var d=0,l=f[t.boxIdx(e)];d<l.length;d++){var p=l[d];i.indexOf(p)<0&&i.push(p)}return i},t.pairwise=function(t){for(var e=[],i=0,n=0;n<t.length;n++)for(var r=n+1;r<t.length;r++)e[i++]=[t[n],t[r]];return e},t.tripwise=function(t){for(var e=[],i=0,n=0;n<t.length;n++)for(var r=n+1;r<t.length;r++)for(var o=r+1;o<t.length;o++)e[i++]=[t[n],t[r],t[o]];return e},t.quadwise=function(t){for(var e=[],i=0,n=0;n<t.length;n++)for(var r=n+1;r<t.length;r++)for(var o=r+1;o<t.length;o++)for(var s=o+1;s<t.length;s++)e[i++]=[t[n],t[r],t[o],t[s]];return e},t.formatString=function(t,e){return t.replace(/{(\d+)}/g,function(t,i){return void 0!==e[i]?e[i]:t})},t.pad=function(t,e){for(var i=t+"";i.length<e;)i=" "+i;return i},t.makeIndexArray=function(e,i){for(var r=[],o=0;o<e;o++)r[o]=o;return i===n.RANDOM&&t.shuffleArray(r),r},t.generateCellIndexesArray=function(e){for(var i=[],r=1;r<=9;r++)for(var o=1;o<=9;o++)i.push({r:r,c:o});return e===n.RANDOM&&t.shuffleArray(i),i},t.shuffleArray=function(t){var e,i,n;for(e=t.length-1;e>0;e--)i=Math.floor(Math.random()*(e+1)),n=t[e],t[e]=t[i],t[i]=n;return t},t.valuesArrayToString=function(t){for(var e="",i=0,n=t;i<n.length;i++){var r=n[i];e+=0===r?".":r}return e},t.valuesStringToArray=function(t){for(var e,i=[],n=0,r=l;n<r.length;n++){var o=r[n];e=t.charAt(o),"."!==e?i.push(+e):i.push(0)}return i},t.toRowColString=function(e){return t.rowIdx(e)+1+","+(t.colIdx(e)+1)},t.viewToModelRow=function(t,e){return 3*t+e+1},t.viewToModelCol=function(t,e){return 3*t+e+1},t.viewToModelCand=function(t,e){return t%3*3+e+1},t.areCellsInSameRow=function(e){for(var i=t.rowIdx(e[0]),n=1;n<e.length;n++)if(t.rowIdx(e[n])!=i)return!1;return!0},t.areCellsInSameCol=function(e){for(var i=t.colIdx(e[0]),n=1;n<e.length;n++)if(t.colIdx(e[n])!=i)return!1;return!0},t.areCellsInSameBox=function(e){for(var i=t.boxIdx(e[0]),n=1;n<e.length;n++)if(t.boxIdx(e[n])!=i)return!1;return!0},t.isArraySame=function(t,e){return t.length==e.length&&t.every(function(t,i){return t===e[i]})},t.toElapsedTimeString=function(t){var e=Math.floor(t%60),i=Math.floor(t/60%60),n=Math.floor(t/3600%24),r=e<10?"0"+e:e,o=i<1?"0":i;return(n<1?"":n+":")+o+":"+r},t}();p.RANDOM_VALUES_1=[8,3,1,2,9,7,4,5,6],p.RANDOM_VALUES_2=[1,6,2,9,5,8,7,4,3],p.RANDOM_VALUES_3=[2,6,8,7,5,1,9,3,4],p.RANDOM_VALUES_4=[3,2,4,8,7,9,6,5,1],p.RANDOM_VALUES_5=[7,8,2,1,5,6,9,3,4],p.RANDOM_CELLS_1=[66,21,53,29,65,30,39,25,6,61,0,1,79,26,42,38,5,43,33,11,19,57,63,56,22,28,36,27,75,78,35,51,72,10,31,4,8,54,18,24,46,34,64,68,52,69,58,16,77,70,40,14,41,37,62,49,20,74,17,80,76,47,60,67,73,55,71,3,13,7,2,44,12,59,50,15,9,32,23,45,48],p.RANDOM_CELLS_2=[6,27,53,49,10,9,46,71,40,44,36,67,75,30,74,63,77,21,12,58,51,72,55,29,56,15,22,13,39,28,52,57,65,19,66,3,7,59,62,54,4,11,17,70,50,14,25,24,48,20,18,35,69,76,68,0,43,45,38,26,60,47,61,80,32,5,2,31,79,37,8,23,73,42,1,41,64,33,34,16,78],p.RANDOM_CELLS_3=[13,66,36,14,5,42,23,34,51,2,9,1,67,60,6,31,64,38,63,32,28,45,47,20,80,58,12,35,59,33,17,4,73,69,11,41,37,72,16,79,40,26,70,0,19,27,29,43,10,54,39,65,8,21,3,74,53,50,44,57,15,78,24,7,55,30,49,56,62,25,76,48,18,61,68,22,46,71,52,77,75],p.RANDOM_CELLS_4=[43,7,16,34,67,2,46,20,17,55,6,71,48,11,60,27,66,52,14,70,73,63,41,53,30,25,47,31,1,61,32,57,18,51,59,40,29,74,78,39,68,19,58,4,54,79,13,65,77,45,44,56,10,35,24,36,5,23,37,9,28,8,62,15,49,22,33,76,26,75,80,69,21,50,3,64,0,12,38,72,42],p.RANDOM_CELLS_5=[77,43,32,17,49,33,0,24,48,63,58,44,78,4,2,67,20,29,46,7,21,65,53,14,54,61,41,60,50,47,27,30,9,38,37,19,71,62,34,45,31,56,66,51,26,52,5,10,70,16,36,80,55,3,73,28,69,35,11,76,8,23,12,42,13,39,64,74,18,68,22,40,6,57,15,59,75,25,79,1,72],p.RANDOM_PARING_CELLS_1=[31,13,16,25,2,21,38,7,1,40,17,28,8,9,23,12,19,14,26,34,6,20,39,0,32,22,10,18,36,37,27,15,30,4,29,5,33,3,24,11,35],p.RANDOM_PARING_CELLS_2=[5,11,7,38,25,4,31,28,16,39,3,17,40,22,20,23,12,37,36,13,35,18,0,6,32,33,21,30,29,19,27,10,34,1,26,15,24,9,2,14,8],p.RANDOM_PARING_CELLS_3=[34,35,24,36,19,39,22,20,16,28,13,2,33,11,0,5,10,29,21,25,4,23,14,1,32,37,9,38,7,27,30,15,8,40,3,31,26,12,6,18,17],p.RANDOM_PARING_CELLS_4=[6,3,11,28,25,27,35,10,17,33,7,2,23,16,5,12,14,4,20,1,37,36,31,29,39,30,26,9,40,38,21,0,8,34,18,24,22,15,13,32,19],p.RANDOM_PARING_CELLS_5=[8,7,22,24,34,39,19,18,13,23,32,17,14,9,35,10,28,21,6,31,16,11,29,36,38,25,0,12,15,4,2,33,30,26,20,5,1,3,37,40,27]},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n;!function(t){t[t.NAKED_SINGLE=0]="NAKED_SINGLE",t[t.HIDDEN_SINGLE_ROW=1]="HIDDEN_SINGLE_ROW",t[t.HIDDEN_SINGLE_COL=2]="HIDDEN_SINGLE_COL",t[t.HIDDEN_SINGLE_BOX=3]="HIDDEN_SINGLE_BOX",t[t.NAKED_PAIRS_ROW=4]="NAKED_PAIRS_ROW",t[t.NAKED_PAIRS_COL=5]="NAKED_PAIRS_COL",t[t.NAKED_PAIRS_BOX=6]="NAKED_PAIRS_BOX",t[t.POINTING_ROW=7]="POINTING_ROW",t[t.POINTING_COL=8]="POINTING_COL",t[t.ROW_BOX_REDUCTION=9]="ROW_BOX_REDUCTION",t[t.COL_BOX_REDUCTION=10]="COL_BOX_REDUCTION",t[t.NAKED_TRIPLES_ROW=11]="NAKED_TRIPLES_ROW",t[t.NAKED_TRIPLES_COL=12]="NAKED_TRIPLES_COL",t[t.NAKED_TRIPLES_BOX=13]="NAKED_TRIPLES_BOX",t[t.HIDDEN_PAIRS_ROW=14]="HIDDEN_PAIRS_ROW",t[t.HIDDEN_PAIRS_COL=15]="HIDDEN_PAIRS_COL",t[t.HIDDEN_PAIRS_BOX=16]="HIDDEN_PAIRS_BOX",t[t.NAKED_QUADS_ROW=17]="NAKED_QUADS_ROW",t[t.NAKED_QUADS_COL=18]="NAKED_QUADS_COL",t[t.NAKED_QUADS_BOX=19]="NAKED_QUADS_BOX",t[t.HIDDEN_TRIPLES_ROW=20]="HIDDEN_TRIPLES_ROW",t[t.HIDDEN_TRIPLES_COL=21]="HIDDEN_TRIPLES_COL",t[t.HIDDEN_TRIPLES_BOX=22]="HIDDEN_TRIPLES_BOX",t[t.HIDDEN_QUADS_ROW=23]="HIDDEN_QUADS_ROW",t[t.HIDDEN_QUADS_COL=24]="HIDDEN_QUADS_COL",t[t.HIDDEN_QUADS_BOX=25]="HIDDEN_QUADS_BOX",t[t.GUESS=26]="GUESS"}(n||(n={}))},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n;!function(t){t[t.EASY=0]="EASY",t[t.MEDIUM=1]="MEDIUM",t[t.HARD=2]="HARD",t[t.HARDEST=3]="HARDEST"}(n||(n={}))},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return u}),i.d(e,"c",function(){return d}),i.d(e,"d",function(){return l});var n,r=i(0),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.SET_VALUE=0]="SET_VALUE",t[t.GUESS_VALUE=1]="GUESS_VALUE",t[t.REMOVE_CANDIDATE=2]="REMOVE_CANDIDATE"}(n||(n={}));var s=function(){function t(t,e,i){this._type=t,this._cell=e,this._hint=i}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hint",{get:function(){return this._hint},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return""},t}(),a=function(t){function e(e,i,n,r){var o=t.call(this,e,i,r)||this;return o._value=n,o}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(s),u=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return o(e,t),e.prototype.toString=function(){var e=t.prototype.toString.call(this)+r.a.formatString("Set {0} in {1},{2}",[this.value,r.a.userRow(this.cell),r.a.userCol(this.cell)]);return this.hint?e+=" ("+this.hint.toString()+")":e+=" (User action)",e},e}(a),d=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,o)||this;return s._possibleValues=r,s}return o(e,t),Object.defineProperty(e.prototype,"possibleValues",{get:function(){return this._possibleValues},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var e=t.prototype.toString.call(this)+r.a.formatString("Guess {0} in {1},{2} with possibles {3}",[this.value,r.a.userRow(this.cell),r.a.userCol(this.cell),JSON.stringify(this._possibleValues)]);return this.hint?e+=" ("+this.hint.toString()+")":e+=" (User action)",e},e}(a),l=function(t){function e(e,i,n,r){var o=t.call(this,e,i,r)||this;return o._candidate=n,o}return o(e,t),Object.defineProperty(e.prototype,"candidate",{get:function(){return this._candidate},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var e=t.prototype.toString.call(this)+r.a.formatString("Remove candidate {0} in {1},{2}",[this._candidate,r.a.userRow(this.cell),r.a.userCol(this.cell)]);return this.hint?e+=" ("+this.hint.toString()+")":e+=" (User action)",e},e}(s)},function(t,e,i){"use strict";i.d(e,"a",function(){return d}),i.d(e,"b",function(){return l});var n=i(1),r=i(3),o=i(2),s=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(){function t(t){this._type=t}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t}(),d=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r._cell=i,r._value=n,r}return a(e,t),Object.defineProperty(e.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.getCell=function(){return this._cell},e.prototype.getValue=function(){return this._value},e.prototype.getActionType=function(){return r.a.SET_VALUE},e.prototype.getDifficultyRating=function(){return this.type===n.a.GUESS?o.a.HARDEST:o.a.EASY},e.prototype.toString=function(){var t=s.a.userRow(this._cell),e=s.a.userCol(this._cell);s.a.userBox(this._cell);switch(this.type){case n.a.NAKED_SINGLE:return s.a.formatString("Naked single {0} in {1},{2}",[this._value,t,e]);case n.a.HIDDEN_SINGLE_ROW:return s.a.formatString("Hidden single {0} in row, {1},{2}",[this._value,t,e]);case n.a.HIDDEN_SINGLE_COL:return s.a.formatString("Hidden single {0} in col, {1},{2}",[this._value,t,e]);case n.a.HIDDEN_SINGLE_BOX:return s.a.formatString("Hidden single {0} in box, {1},{2}",[this._value,t,e]);case n.a.GUESS:return s.a.formatString("Guess {0} in {1},{2}",[this._value,t,e])}},e}(u),l=function(t){function e(e,i,n,r){var o=t.call(this,e)||this;return o._cells=i,o._candidates=n.sort(),o._removals=r,o}return a(e,t),Object.defineProperty(e.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),e.prototype.getCell=function(){return this._cells[0]},e.prototype.getValue=function(){},e.prototype.getActionType=function(){return r.a.REMOVE_CANDIDATE},Object.defineProperty(e.prototype,"candidates",{get:function(){return this._candidates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removals",{get:function(){return this._removals},enumerable:!0,configurable:!0}),e.prototype.getDifficultyRating=function(){return this.type>=n.a.NAKED_TRIPLES_ROW?o.a.HARD:o.a.MEDIUM},e.prototype.toString=function(){var t=s.a.userRow(this._cells[0]),e=s.a.userCol(this._cells[0]),i=s.a.userBox(this._cells[0]);switch(this.type){case n.a.NAKED_PAIRS_ROW:return s.a.formatString("Naked pairs {0}/{1} in row {2}",[this._candidates[0],this._candidates[1],t]);case n.a.NAKED_PAIRS_COL:return s.a.formatString("Naked pairs {0}/{1} in col {2}",[this._candidates[0],this._candidates[1],e]);case n.a.NAKED_PAIRS_BOX:return s.a.formatString("Naked pairs {0}/{1} in box {2}",[this._candidates[0],this._candidates[1],i]);case n.a.POINTING_ROW:return s.a.formatString("Pointing row {0}, box {1}, candidate {2}",[t,i,this._candidates[0]]);case n.a.POINTING_COL:return s.a.formatString("Pointing column {0}, box {1}, candidate {2}",[e,i,this._candidates[0]]);case n.a.ROW_BOX_REDUCTION:return s.a.formatString("Box reduction in box {0}, row {1}, candidate {2}",[i,t,this._candidates[0]]);case n.a.COL_BOX_REDUCTION:return s.a.formatString("Box reduction in box {0}, column {1}, candidate {2}",[i,e,this._candidates[0]]);case n.a.NAKED_TRIPLES_ROW:return s.a.formatString("Naked triples {0}/{1}/{2} in row {3}",[this._candidates[0],this._candidates[1],this._candidates[2],t]);case n.a.NAKED_TRIPLES_COL:return s.a.formatString("Naked triples {0}/{1}/{2} in column {3}",[this._candidates[0],this._candidates[1],this._candidates[2],e]);case n.a.NAKED_TRIPLES_BOX:return s.a.formatString("Naked triples {0}/{1}/{2} in box {3}",[this._candidates[0],this._candidates[1],this._candidates[2],i]);case n.a.NAKED_QUADS_ROW:return s.a.formatString("Naked quads {0}/{1}/{2}/{3} in row {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],t]);case n.a.NAKED_QUADS_COL:return s.a.formatString("Naked quads {0}/{1}/{2}/{3} in column {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],e]);case n.a.NAKED_QUADS_BOX:return s.a.formatString("Naked quads {0}/{1}/{2}/{3} in box {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],i]);case n.a.HIDDEN_PAIRS_ROW:return s.a.formatString("Hidden pairs {0}/{1} in row {2}",[this._candidates[0],this._candidates[1],t]);case n.a.HIDDEN_PAIRS_COL:return s.a.formatString("Hidden pairs {0}/{1} in column {2}",[this._candidates[0],this._candidates[1],e]);case n.a.HIDDEN_PAIRS_BOX:return s.a.formatString("Hidden pairs {0}/{1} in box {2}",[this._candidates[0],this._candidates[1],i]);case n.a.HIDDEN_TRIPLES_ROW:return s.a.formatString("Hidden triples {0}/{1}/{2} in row {3}",[this._candidates[0],this._candidates[1],this._candidates[2],t]);case n.a.HIDDEN_TRIPLES_COL:return s.a.formatString("Hidden triples {0}/{1}/{2} in column {3}",[this._candidates[0],this._candidates[1],this._candidates[2],e]);case n.a.HIDDEN_TRIPLES_BOX:return s.a.formatString("Hidden triples {0}/{1}/{2} in box {3}",[this._candidates[0],this._candidates[1],this._candidates[2],i]);case n.a.HIDDEN_QUADS_ROW:return s.a.formatString("Hidden quads {0}/{1}/{2}/{3} in row {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],t]);case n.a.HIDDEN_QUADS_COL:return s.a.formatString("Hidden quads {0}/{1}/{2}/{3} in column {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],e]);case n.a.HIDDEN_QUADS_BOX:return s.a.formatString("Hidden quads {0}/{1}/{2}/{3} in box {4}",[this._candidates[0],this._candidates[1],this._candidates[2],this._candidates[3],i])}},e}(u)},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),r=function(){function t(){this._log=[]}return t.prototype.initialize=function(){this._log=[]},t.prototype.removeAllEntries=function(){this._log=[]},t.prototype.addEntry=function(t){this._log.push(t)},t.prototype.getLastEntry=function(){return this._log.length>0?this._log[this._log.length-1]:void 0},t.prototype.getAllEntries=function(){return this._log},t.prototype.getSize=function(){return this._log.length},t.prototype.removeLastEntry=function(){this._log.pop()},t.prototype.toStringFirstFirst=function(){for(var t="",e=1,i=0,r=this._log;i<r.length;i++){var o=r[i];t+=n.a.pad(e++,3)+". "+o.toString()+"\n"}return t},t.prototype.toStringLastFirst=function(){for(var t="",e=this._log.length;e>0;e--)t+=n.a.pad(e,3)+". "+this._log[e-1].toString()+"\n";return t},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(1),r=i(2),o=function(){function t(){this.nakedSingles=0,this.hiddenSinglesRow=0,this.hiddenSinglesCol=0,this.hiddenSinglesBox=0,this.nakedPairsRow=0,this.nakedPairsCol=0,this.nakedPairsBox=0,this.pointingRows=0,this.pointingCols=0,this.rowBoxReductions=0,this.colBoxReductions=0,this.nakedTriplesRow=0,this.nakedTriplesCol=0,this.nakedTriplesBox=0,this.nakedQuadsRow=0,this.nakedQuadsCol=0,this.nakedQuadsBox=0,this.hiddenPairsRow=0,this.hiddenPairsCol=0,this.hiddenPairsBox=0,this.hiddenTriplesRow=0,this.hiddenTriplesCol=0,this.hiddenTriplesBox=0,this.hiddenQuadsRow=0,this.hiddenQuadsCol=0,this.hiddenQuadsBox=0,this.guesses=0}return t.prototype.serialize=function(){return JSON.stringify({nakedSingles:this.nakedSingles,hiddenSinglesRow:this.hiddenSinglesRow,hiddenSinglesCol:this.hiddenSinglesCol,hiddenSinglesBox:this.hiddenSinglesBox,nakedPairsRow:this.nakedPairsRow,nakedPairsCol:this.nakedPairsCol,nakedPairsBox:this.nakedPairsBox,pointingRows:this.pointingRows,pointingCols:this.pointingCols,rowBoxReductions:this.rowBoxReductions,colBoxReductions:this.colBoxReductions,nakedTriplesRow:this.nakedTriplesRow,nakedTriplesCol:this.nakedTriplesCol,nakedTriplesBox:this.nakedTriplesBox,nakedQuadsRow:this.nakedQuadsRow,nakedQuadsCol:this.nakedQuadsCol,nakedQuadsBox:this.nakedQuadsBox,hiddenPairsRow:this.hiddenPairsRow,hiddenPairsCol:this.hiddenPairsCol,hiddenPairsBox:this.hiddenPairsBox,hiddenTriplesRow:this.hiddenTriplesRow,hiddenTriplesCol:this.hiddenTriplesCol,hiddenTriplesBox:this.hiddenTriplesBox,hiddenQuadsRow:this.hiddenQuadsRow,hiddenQuadsCol:this.hiddenQuadsCol,hiddenQuadsBox:this.hiddenQuadsBox,guesses:this.guesses})},t.deserialize=function(e){var i=JSON.parse(e),n=new t;return n.nakedSingles=i.nakedSingles,n.hiddenSinglesRow=i.hiddenSinglesRow,n.hiddenSinglesCol=i.hiddenSinglesCol,n.hiddenSinglesBox=i.hiddenSinglesBox,n.nakedPairsRow=i.nakedPairsRow,n.nakedPairsCol=i.nakedPairsCol,n.nakedPairsBox=i.nakedPairsBox,n.pointingRows=i.pointingRows,n.pointingCols=i.pointingCols,n.rowBoxReductions=i.rowBoxReductions,n.colBoxReductions=i.colBoxReductions,n.nakedTriplesRow=i.nakedTriplesRow,n.nakedTriplesCol=i.nakedTriplesCol,n.nakedTriplesBox=i.nakedTriplesBox,n.nakedQuadsRow=i.nakedQuadsRow,n.nakedQuadsCol=i.nakedQuadsCol,n.nakedQuadsBox=i.nakedQuadsBox,n.hiddenPairsRow=i.hiddenPairsRow,n.hiddenPairsCol=i.hiddenPairsCol,n.hiddenPairsBox=i.hiddenPairsBox,n.hiddenTriplesRow=i.hiddenTriplesRow,n.hiddenTriplesCol=i.hiddenTriplesCol,n.hiddenTriplesBox=i.hiddenTriplesBox,n.hiddenQuadsRow=i.hiddenQuadsRow,n.hiddenQuadsCol=i.hiddenQuadsCol,n.hiddenQuadsBox=i.hiddenQuadsBox,n.guesses=i.guesses,n},t.prototype.incrementHintCount=function(t){switch(t){case n.a.NAKED_SINGLE:this.nakedSingles++;case n.a.HIDDEN_SINGLE_ROW:this.hiddenSinglesRow++;case n.a.HIDDEN_SINGLE_COL:this.hiddenSinglesCol++;case n.a.HIDDEN_SINGLE_BOX:this.hiddenSinglesBox++;case n.a.NAKED_PAIRS_ROW:this.nakedPairsRow++;case n.a.NAKED_PAIRS_COL:this.nakedPairsCol++;case n.a.NAKED_PAIRS_BOX:this.nakedPairsBox++;case n.a.POINTING_ROW:this.pointingRows++;case n.a.POINTING_COL:this.pointingCols++;case n.a.ROW_BOX_REDUCTION:this.rowBoxReductions++;case n.a.COL_BOX_REDUCTION:this.colBoxReductions++;case n.a.NAKED_TRIPLES_ROW:this.nakedTriplesRow++;case n.a.NAKED_TRIPLES_COL:this.nakedTriplesCol++;case n.a.NAKED_TRIPLES_BOX:this.nakedTriplesBox++;case n.a.HIDDEN_PAIRS_ROW:this.hiddenPairsRow++;case n.a.HIDDEN_PAIRS_COL:this.hiddenPairsCol++;case n.a.HIDDEN_PAIRS_BOX:this.hiddenPairsBox++;case n.a.NAKED_QUADS_ROW:this.nakedQuadsRow++;case n.a.NAKED_QUADS_COL:this.nakedQuadsCol++;case n.a.NAKED_QUADS_BOX:this.nakedQuadsBox++;case n.a.HIDDEN_TRIPLES_ROW:this.hiddenTriplesRow++;case n.a.HIDDEN_TRIPLES_COL:this.hiddenTriplesCol++;case n.a.HIDDEN_TRIPLES_BOX:this.hiddenTriplesBox++;case n.a.HIDDEN_QUADS_ROW:this.hiddenQuadsRow++;case n.a.HIDDEN_QUADS_COL:this.hiddenQuadsCol++;case n.a.HIDDEN_QUADS_BOX:this.hiddenQuadsBox++;case n.a.GUESS:this.guesses++}},t.prototype.getNakedSingles=function(){return this.nakedSingles},t.prototype.getHiddenSingles=function(){return this.hiddenSinglesRow+this.hiddenSinglesCol+this.hiddenSinglesBox},t.prototype.getNakedPairs=function(){return this.nakedPairsRow+this.nakedPairsCol+this.nakedPairsBox},t.prototype.getPointingRowsCols=function(){return this.pointingRows+this.pointingCols},t.prototype.getBoxReductions=function(){return this.rowBoxReductions+this.colBoxReductions},t.prototype.getNakedTriples=function(){return this.nakedTriplesRow+this.nakedTriplesCol+this.nakedTriplesBox},t.prototype.getNakedQuads=function(){return this.nakedQuadsRow+this.nakedQuadsCol+this.nakedQuadsBox},t.prototype.getHiddenPairs=function(){return this.hiddenPairsRow+this.hiddenPairsCol+this.hiddenPairsBox},t.prototype.getHiddenTriples=function(){return this.hiddenTriplesRow+this.hiddenTriplesCol+this.hiddenTriplesBox},t.prototype.getHiddenQuads=function(){return this.hiddenQuadsRow+this.hiddenQuadsCol+this.hiddenQuadsBox},t.prototype.getGuesses=function(){return this.guesses},t.prototype.getTotalHints=function(){return 0+this.nakedSingles+this.hiddenSinglesRow+this.hiddenSinglesCol+this.hiddenSinglesBox+this.nakedPairsRow+this.nakedPairsCol+this.nakedPairsBox+this.pointingRows+this.pointingCols+this.rowBoxReductions+this.colBoxReductions+this.nakedTriplesRow+this.nakedTriplesCol+this.nakedTriplesBox+this.nakedQuadsRow+this.nakedQuadsCol+this.nakedQuadsBox+this.hiddenPairsRow+this.hiddenPairsCol+this.hiddenPairsBox+this.hiddenTriplesRow+this.hiddenTriplesCol+this.hiddenTriplesBox+this.hiddenQuadsRow+this.hiddenQuadsCol+this.hiddenQuadsBox+this.guesses},t.prototype.getActualDifficulty=function(){return this.guesses>0?r.a.HARDEST:this.getNakedTriples()>0||this.getNakedQuads()>0||this.getHiddenPairs()>0||this.getHiddenTriples()>0||this.getHiddenQuads()>0?r.a.HARD:this.getNakedPairs()>0||this.getPointingRowsCols()>0||this.getBoxReductions()>0?r.a.MEDIUM:(this.getHiddenSingles()>0||this.nakedSingles,r.a.EASY)},t.prototype.toString=function(){var t="";return t+="NS   : "+this.nakedSingles+"\n",t+="HS*  : "+this.hiddenSinglesRow+", "+this.hiddenSinglesCol+", "+this.hiddenSinglesBox+"\n",t+="NP*  : "+this.nakedPairsRow+", "+this.nakedPairsCol+", "+this.nakedPairsBox+"\n",t+="P*   : "+this.pointingRows+", "+this.pointingCols+"\n",t+="*BR  : "+this.rowBoxReductions+", "+this.colBoxReductions+"\n",t+="NT*  : "+this.nakedTriplesRow+", "+this.nakedTriplesCol+", "+this.nakedTriplesBox+"\n",t+="NQ*  : "+this.nakedQuadsRow+", "+this.nakedQuadsCol+", "+this.nakedQuadsBox+"\n",t+="HP*  : "+this.hiddenPairsRow+", "+this.hiddenPairsCol+", "+this.hiddenPairsBox+"\n",t+="HT*  : "+this.hiddenTriplesRow+", "+this.hiddenTriplesCol+", "+this.hiddenTriplesBox+"\n",t+="HQ*  : "+this.hiddenQuadsRow+", "+this.hiddenQuadsCol+", "+this.hiddenQuadsBox+"\n",t+="G    : "+this.guesses+"\n",t+="Total: "+this.getTotalHints()},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n;!function(t){t[t.SINGLE=0]="SINGLE",t[t.PAIR=1]="PAIR",t[t.TRIPLE=2]="TRIPLE",t[t.QUAD=3]="QUAD"}(n||(n={}))},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(0),r=i(2),o=i(6),s=function(){function t(){this._initialValues=void 0,this._completedPuzzle=void 0,this._desiredDifficulty=void 0,this._actualDifficulty=void 0,this._actualDifficulty=void 0,this._solutionsCount=void 0,this._stats=void 0}return t.prototype.serialize=function(){return JSON.stringify({_initialValues:this._initialValues,_completedPuzzle:this._completedPuzzle,_desiredDifficulty:this._desiredDifficulty,_actualDifficulty:this._actualDifficulty,_generatePasses:this._generatePasses,_solutionsCount:this._solutionsCount,_stats:this._stats.serialize()})},t.deserialize=function(e){var i=JSON.parse(e),n=new t;return n._initialValues=i._initialValues,n._completedPuzzle=i._completedPuzzle,n._desiredDifficulty=i._desiredDifficulty,n._actualDifficulty=i._actualDifficulty,n._generatePasses=i._generatePasses,n._solutionsCount=i._solutionsCount,n._stats=o.a.deserialize(i._stats),n},Object.defineProperty(t.prototype,"initialValues",{get:function(){return this._initialValues},set:function(t){this._initialValues=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completedPuzzle",{get:function(){return this._completedPuzzle},set:function(t){this._completedPuzzle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"desiredDifficulty",{get:function(){return this._desiredDifficulty},set:function(t){this._desiredDifficulty=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualDifficulty",{get:function(){return this._actualDifficulty},set:function(t){this._actualDifficulty=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"generatePasses",{get:function(){return this._generatePasses},set:function(t){this._generatePasses=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"solutionsCount",{get:function(){return this._solutionsCount},set:function(t){this._solutionsCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stats",{get:function(){return this._stats},set:function(t){this._stats=t},enumerable:!0,configurable:!0}),t.prototype.getInitialEmptyCells=function(){for(var t=0,e=0,i=this._initialValues;e<i.length;e++){0===i[e]&&t++}return t},t.prototype.getInitialFilledCells=function(){for(var t=0,e=0,i=this._initialValues;e<i.length;e++){0!=i[e]&&t++}return t},t.getDifficultyLabel=function(t){switch(t){case r.a.EASY:return"Easy";case r.a.MEDIUM:return"Medium";case r.a.HARD:return"Hard";case r.a.HARDEST:return"Hardest"}},t.prototype.toString=function(){var e="";return e+="-Given/empty/total cells: "+this.getInitialFilledCells()+"/"+this.getInitialEmptyCells()+"/"+(this.getInitialFilledCells()+this.getInitialEmptyCells())+"\n",e+="-Initial & finished values:\n",e+=n.a.valuesArrayToString(this._initialValues)+"\n",e+=n.a.valuesArrayToString(this._completedPuzzle)+"\n",e+="-Difficulty: "+t.getDifficultyLabel(this._actualDifficulty)+"\n",this._solutionsCount&&(e+="-Solutions count: "+this._solutionsCount+"\n"),this._stats&&(e+="-Stats:\n"+this._stats.toString()+"\n"),e},t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r=postMessage,o=new n.a;onmessage=function(t){var e=t.data,i=o.createSudoku(e);r(i)}},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(5),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.addEntry=function(e){t.prototype.addEntry.call(this,e)},e.prototype.getLastEntry=function(){return t.prototype.getLastEntry.call(this)},e}(n.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(5),r=i(1),o=i(6),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.addEntry=function(e){t.prototype.addEntry.call(this,e)},e.prototype.getAllEntries=function(){return t.prototype.getAllEntries.call(this)},e.prototype.getLastEntry=function(){return t.prototype.getLastEntry.call(this)},e.prototype.getHintCounts=function(){for(var t=new o.a,e=0,i=this.getAllEntries();e<i.length;e++){switch(i[e].type){case r.a.NAKED_SINGLE:t.nakedSingles++;break;case r.a.HIDDEN_SINGLE_ROW:t.hiddenSinglesRow++;break;case r.a.HIDDEN_SINGLE_COL:t.hiddenSinglesCol++;break;case r.a.HIDDEN_SINGLE_BOX:t.hiddenSinglesBox++;break;case r.a.NAKED_PAIRS_ROW:t.nakedPairsRow++;break;case r.a.NAKED_PAIRS_COL:t.nakedPairsCol++;break;case r.a.NAKED_PAIRS_BOX:t.nakedPairsBox++;break;case r.a.POINTING_ROW:t.pointingRows++;break;case r.a.POINTING_COL:t.pointingCols++;break;case r.a.ROW_BOX_REDUCTION:t.rowBoxReductions++;break;case r.a.COL_BOX_REDUCTION:t.colBoxReductions++;break;case r.a.NAKED_TRIPLES_ROW:t.nakedTriplesRow++;break;case r.a.NAKED_TRIPLES_COL:t.nakedTriplesCol++;break;case r.a.NAKED_TRIPLES_BOX:t.nakedTriplesBox++;break;case r.a.NAKED_QUADS_ROW:t.nakedQuadsRow++;break;case r.a.NAKED_QUADS_COL:t.nakedQuadsCol++;break;case r.a.NAKED_QUADS_BOX:t.nakedQuadsBox++;break;case r.a.HIDDEN_PAIRS_ROW:t.hiddenPairsRow++;break;case r.a.HIDDEN_PAIRS_COL:t.hiddenPairsCol++;break;case r.a.HIDDEN_PAIRS_BOX:t.hiddenPairsBox++;break;case r.a.GUESS:t.guesses++}}return t},e}(n.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(0),r=i(7),o=i(2),s=i(3),a=i(4),u=i(1),d=i(11),l=function(){function t(t){this.hintLog=new d.a,this.sudokuService=t}return t.prototype.initializeHintLog=function(){this.hintLog.initialize()},t.prototype.addHintLogEntry=function(t){this.hintLog.addEntry(t)},t.prototype.getHintCounts=function(){return this.hintLog.getHintCounts()},t.prototype.getActiveHint=function(){return this.activeHint},t.prototype.getHint=function(t){if(this.activeHint=void 0,this.checkNakedSingles()||this.checkHiddenSingles())return this.activeHint;if(t!==o.a.EASY){if(this.checkNakedPairs()||this.checkPointingRowCol()||this.checkRowBoxReductions()||this.checkColBoxReductions())return this.activeHint;if(t!==o.a.MEDIUM)return this.checkNakedTriples()||this.checkNakedQuads()||this.checkHiddenPairs()||this.checkHiddenTriples()?this.activeHint:void 0}},t.prototype.applyHint=function(){if(void 0!=this.activeHint){switch(this.hintLog.addEntry(this.activeHint),this.activeHint.type){case u.a.NAKED_SINGLE:case u.a.HIDDEN_SINGLE_ROW:case u.a.HIDDEN_SINGLE_COL:case u.a.HIDDEN_SINGLE_BOX:var t=this.activeHint;this.sudokuService.setValue(t.cell,t.value,s.a.SET_VALUE,void 0,t);break;default:for(var e=this.activeHint,i=e.removals,n=0,r=i;n<r.length;n++){var o=r[n];this.sudokuService.removeCandidate(o.c,o.k,e)}}this.activeHint=void 0}},t.prototype.applyGivenHint=function(t){if(void 0!=t){switch(this.hintLog.addEntry(t),t.type){case u.a.NAKED_SINGLE:case u.a.HIDDEN_SINGLE_ROW:case u.a.HIDDEN_SINGLE_COL:case u.a.HIDDEN_SINGLE_BOX:var e=t;this.sudokuService.setValue(e.cell,e.value,s.a.SET_VALUE,void 0,e);break;default:for(var i=t,n=i.removals,r=0,o=n;r<o.length;r++){var a=o[r];this.sudokuService.removeCandidate(a.c,a.k,i)}}t=void 0}},t.prototype.checkNakedSingles=function(){for(var t=0,e=n.a.shuffleArray(n.b.slice());t<e.length;t++){var i=e[t],o=this.sudokuService.findNakedCandidates(i,r.a.SINGLE);if(o.length>0)return this.activeHint=new a.a(u.a.NAKED_SINGLE,i,o[0]),!0}return!1},t.prototype.checkHiddenSingles=function(){for(var t=0,e=n.d;t<e.length;t++){var i=e[t];if(this.checkHiddenSinglesGroup(this.sudokuService.getRow(i),u.a.HIDDEN_SINGLE_ROW))return!0}for(var r=0,o=n.e;r<o.length;r++){var s=o[r];if(this.checkHiddenSinglesGroup(this.sudokuService.getCol(s),u.a.HIDDEN_SINGLE_COL))return!0}for(var a=0,d=n.f;a<d.length;a++){var l=d[a];if(this.checkHiddenSinglesGroup(this.sudokuService.getBox(l),u.a.HIDDEN_SINGLE_BOX))return!0}return!1},t.prototype.checkHiddenSinglesGroup=function(t,e){var i=-1;t:for(var r=0,o=n.g;r<o.length;r++){var s=o[r];if(!this.sudokuService.containsValue(t,s)){for(var u=0,d=0,l=t.cells;d<l.length;d++){var c=l[d];if(this.sudokuService.isCandidate(c,s)){if(++u>1)continue t;i=c}}if(1===u)return this.activeHint=new a.a(e,i,s),!0}}return!1},t.prototype.checkNakedPairs=function(){for(var t=[],e=0,i=n.b;e<i.length;e++){var o=i[e],s=this.sudokuService.findNakedCandidates(o,r.a.PAIR);s.length>0&&t.push({idx:o,cands:s})}if(0==t.length)return!1;for(var a=0;a<t.length;a++)for(var d=a+1;d<t.length;d++){var l=[];l=t[a].cands.slice();for(var c=0,h=t[d].cands;c<h.length;c++){var f=h[c];-1===l.indexOf(f)&&l.push(f)}if(2==l.length){var p=[t[a].idx,t[d].idx];if(n.a.areCellsInSameRow(p)&&this.checkNakedsRemovals(n.h[n.a.rowIdx(p[0])],p,l,u.a.NAKED_PAIRS_ROW))return!0;if(n.a.areCellsInSameCol(p)&&this.checkNakedsRemovals(n.i[n.a.colIdx(p[0])],p,l,u.a.NAKED_PAIRS_COL))return!0;if(n.a.areCellsInSameBox(p)&&this.checkNakedsRemovals(n.j[n.a.boxIdx(p[0])],p,l,u.a.NAKED_PAIRS_BOX))return!0}}return!1},t.prototype.checkNakedTriples=function(){for(var t=[],e=0,i=n.b;e<i.length;e++){var o=i[e],s=this.sudokuService.findNakedCandidates(o,r.a.TRIPLE);s.length>0&&t.push({idx:o,cands:s})}if(0==t.length)return!1;for(var a=0;a<t.length;a++)for(var d=a+1;d<t.length;d++)for(var l=d+1;l<t.length;l++){var c=[];c=t[a].cands.slice();for(var h=0,f=t[d].cands;h<f.length;h++){var p=f[h];-1===c.indexOf(p)&&c.push(p)}if(!(c.length>3)){for(var g=0,v=t[l].cands;g<v.length;g++){var p=v[g];-1===c.indexOf(p)&&c.push(p)}if(3==c.length){var _=[t[a].idx,t[d].idx,t[l].idx];if(n.a.areCellsInSameRow(_)&&this.checkNakedsRemovals(n.h[n.a.rowIdx(_[0])],_,c,u.a.NAKED_TRIPLES_ROW))return!0;if(n.a.areCellsInSameCol(_)&&this.checkNakedsRemovals(n.i[n.a.colIdx(_[0])],_,c,u.a.NAKED_TRIPLES_COL))return!0;if(n.a.areCellsInSameBox(_)&&this.checkNakedsRemovals(n.j[n.a.boxIdx(_[0])],_,c,u.a.NAKED_TRIPLES_BOX))return!0}}}return!1},t.prototype.checkNakedPairsGroup=function(t,e){return this.sudokuService.candidateCellsCount(t),!1},t.prototype.checkNakedTriplesGroup=function(t,e){return this.sudokuService.candidateCellsCount(t),!1},t.prototype.checkNakedQuadsGroup=function(t,e){return this.sudokuService.candidateCellsCount(t),!1},t.prototype.checkNakedQuads=function(){for(var t=[],e=0,i=n.b;e<i.length;e++){var o=i[e],s=this.sudokuService.findNakedCandidates(o,r.a.QUAD);s.length>0&&t.push({idx:o,cands:s})}if(0==t.length)return!1;for(var a=0;a<t.length;a++)for(var d=a+1;d<t.length;d++)for(var l=d+1;l<t.length;l++)for(var c=l+1;c<t.length;c++){var h=[];h=t[a].cands.slice();for(var f=0,p=t[d].cands;f<p.length;f++){var g=p[f];-1===h.indexOf(g)&&h.push(g)}if(!(h.length>4)){for(var v=0,_=t[l].cands;v<_.length;v++){var g=_[v];-1===h.indexOf(g)&&h.push(g)}if(!(h.length>4)){for(var S=0,k=t[c].cands;S<k.length;S++){var g=k[S];-1===h.indexOf(g)&&h.push(g)}if(4==h.length){var y=[t[a].idx,t[d].idx,t[l].idx,t[c].idx];if(n.a.areCellsInSameRow(y)&&this.checkNakedsRemovals(n.h[n.a.rowIdx(y[0])],y,h,u.a.NAKED_QUADS_ROW))return!0;if(n.a.areCellsInSameCol(y)&&this.checkNakedsRemovals(n.i[n.a.colIdx(y[0])],y,h,u.a.NAKED_QUADS_COL))return!0;if(n.a.areCellsInSameBox(y)&&this.checkNakedsRemovals(n.j[n.a.boxIdx(y[0])],y,h,u.a.NAKED_QUADS_BOX))return!0}}}}return!1},t.prototype.checkNakedsRemovals=function(t,e,i,n){for(var r=[],o=0,s=t;o<s.length;o++){var u=s[o];if(!(this.sudokuService.hasValue(u)||e.indexOf(u)>-1))for(var d=0,l=i;d<l.length;d++){var c=l[d];this.sudokuService.isCandidate(u,c)&&r.push({c:u,k:c})}}return r.length>0&&(this.activeHint=new a.b(n,e,i,r),!0)},t.prototype.checkHiddenPairs=function(){for(var t=0,e=n.d;t<e.length;t++){var i=e[t];if(this.checkHiddenPairsGroup(this.sudokuService.getRow(i),u.a.HIDDEN_PAIRS_ROW))return!0}for(var r=0,o=n.e;r<o.length;r++){var s=o[r];if(this.checkHiddenPairsGroup(this.sudokuService.getCol(s),u.a.HIDDEN_PAIRS_COL))return!0}for(var a=0,d=n.f;a<d.length;a++){var l=d[a];if(this.checkHiddenPairsGroup(this.sudokuService.getBox(l),u.a.HIDDEN_PAIRS_BOX))return!0}return!1},t.prototype.checkHiddenTriples=function(){for(var t=0,e=n.d;t<e.length;t++){var i=e[t];if(this.checkHiddenTriplesGroup(this.sudokuService.getRow(i),u.a.HIDDEN_TRIPLES_ROW))return!0}for(var r=0,o=n.e;r<o.length;r++){var s=o[r];if(this.checkHiddenTriplesGroup(this.sudokuService.getCol(s),u.a.HIDDEN_TRIPLES_COL))return!0}for(var a=0,d=n.f;a<d.length;a++){var l=d[a];if(this.checkHiddenTriplesGroup(this.sudokuService.getBox(l),u.a.HIDDEN_TRIPLES_BOX))return!0}return!1},t.prototype.checkHiddenQuads=function(){for(var t=0,e=n.d;t<e.length;t++){var i=e[t];if(this.checkHiddenQuadsGroup(this.sudokuService.getRow(i),u.a.HIDDEN_QUADS_ROW))return!0}for(var r=0,o=n.e;r<o.length;r++){var s=o[r];if(this.checkHiddenQuadsGroup(this.sudokuService.getCol(s),u.a.HIDDEN_QUADS_COL))return!0}for(var a=0,d=n.f;a<d.length;a++){var l=d[a];if(this.checkHiddenQuadsGroup(this.sudokuService.getBox(l),u.a.HIDDEN_QUADS_BOX))return!0}return!1},t.prototype.checkHiddenPairsGroup=function(t,e){var i=[],r=[],o=[];i=this.sudokuService.getCandidateCounts(t);for(var s=0,u=n.g;s<u.length;s++){var d=u[s];2===i[d]&&r.push(d)}if(r.length<2)return!1;t:for(var l=0,c=t.cells;l<c.length;l++)for(var h=c[l],f=0,p=r;f<p.length;f++){var d=p[f];if(this.sudokuService.isCandidate(h,d)){o.push(h);continue t}}for(var g=n.a.pairwise(o),v=0,_=g;v<_.length;v++){for(var S=_[v],k=S,y=[],E=[0,0,0,0,0,0,0,0,0,0],D=[],R=0,I=r;R<I.length;R++)for(var d=I[R],C=0;C<2;C++)this.sudokuService.isCandidate(k[C],d)&&(E[d]++,-1===y.indexOf(d)&&y.push(d));if(!(y.length<2)){for(var O=0,A=y;O<A.length;O++){var d=A[O];E[d]==i[d]&&D.push(d)}if(2==D.length){var N=this.findHiddenRemovals(S,D);if(N.length>0)return this.activeHint=new a.b(e,S,D,N),!0}}}return!1},t.prototype.checkHiddenTriplesGroup=function(t,e){var i=[],r=[],o=[];i=this.sudokuService.getCandidateCounts(t);for(var s=0,u=n.g;s<u.length;s++){var d=u[s];i[d]>=2&&i[d]<=3&&r.push(d)}if(r.length<3)return!1;t:for(var l=0,c=t.cells;l<c.length;l++)for(var h=c[l],f=0,p=r;f<p.length;f++){var d=p[f];if(this.sudokuService.isCandidate(h,d)){o.push(h);continue t}}for(var g=n.a.tripwise(o),v=0,_=g;v<_.length;v++){for(var S=_[v],k=S,y=[],E=[0,0,0,0,0,0,0,0,0,0],D=[],R=0,I=r;R<I.length;R++)for(var d=I[R],C=0;C<3;C++)this.sudokuService.isCandidate(k[C],d)&&(E[d]++,-1===y.indexOf(d)&&y.push(d));if(!(y.length<3)){for(var O=0,A=y;O<A.length;O++){var d=A[O];E[d]==i[d]&&D.push(d)}if(3==D.length){var N=this.findHiddenRemovals(S,D);if(N.length>0)return this.activeHint=new a.b(e,S,D,N),!0}}}return!1},t.prototype.checkHiddenQuadsGroup=function(t,e){var i=[],r=[],o=[];i=this.sudokuService.getCandidateCounts(t);for(var s=0,u=n.g;s<u.length;s++){var d=u[s];i[d]>=2&&i[d]<=4&&r.push(d)}if(console.log("kCounts       : "+JSON.stringify(i)),console.log("quadCandidates: "+JSON.stringify(r)+" (need at least 4)"),r.length<4)return!1;t:for(var l=0,c=t.cells;l<c.length;l++)for(var h=c[l],f=0,p=r;f<p.length;f++){var d=p[f];if(this.sudokuService.isCandidate(h,d)){o.push(h);continue t}}console.log("quadCells     : "+JSON.stringify(o));for(var g=o.length,v=0;v<g-3;v++)for(var _=v+1;_<g-2;_++)for(var S=_+1;S<g-1;S++)for(var k=S+1;k<g-0;k++){for(var y=[o[v],o[_],o[S],o[k]],E=[],D=[0,0,0,0,0,0,0,0,0,0],R=[],I=0,C=r;I<C.length;I++)for(var d=C[I],O=0,A=[v,_,S,k];O<A.length;O++){var N=A[O];this.sudokuService.isCandidate(o[N],d)&&(D[d]++,-1===E.indexOf(d)&&E.push(d))}if(console.log("_4quadCells   : "+JSON.stringify(y)),console.log("_4cands       : "+JSON.stringify(E)+" (need at least 4)"),!(E.length<4)){for(var x=0,L=E;x<L.length;x++){var d=L[x];D[d]==i[d]&&R.push(d)}if(console.log("_4kCounts1    : "+JSON.stringify(D)),console.log("_4matchedCands: "+JSON.stringify(R)+" (need exactly 4)"),4==R.length){var P=this.findHiddenRemovals([o[v],o[_],o[S],o[k]],R);if(console.log("removals      : "+P.length+" (need at least 1)"),P.length>0)return this.activeHint=new a.b(e,[o[v],o[_],o[S],o[k]],R,P),console.log("hint: "+JSON.stringify(this.activeHint)),!0}}}return!1},t.prototype.findHiddenRemovals=function(t,e){for(var i=[],n=0,r=t;n<r.length;n++)for(var o=r[n],s=this.sudokuService.getCandidates(o).slice(),a=0,u=s;a<u.length;a++){var d=u[a];-1===e.indexOf(d)&&i.push({c:o,k:d})}return i},t.prototype.checkPointingRowCol=function(){for(var t=0,e=n.f;t<e.length;t++){var i=e[t];t:for(var r=0,o=n.g;r<o.length;r++){var s=o[r],d=[];if(!this.sudokuService.containsValue(this.sudokuService.getBox(i),s)){for(var l=0,c=n.j[i];l<c.length;l++){var h=c[l];if(this.sudokuService.isCandidate(h,s)&&(d.push(h),d.length>3))continue t}if(!(d.length<2)){var f=n.a.areCellsInSameRow(d),p=n.a.areCellsInSameCol(d);if(f||p){var g=[];if(f){for(var v=0,_=n.h[n.a.rowIdx(d[0])];v<_.length;v++){var h=_[v];n.a.boxIdx(h)!==i&&(this.sudokuService.isCandidate(h,s)&&g.push({c:h,k:s}))}if(g.length>0)return this.activeHint=new a.b(u.a.POINTING_ROW,[d[0]],[s],g),!0}else{for(var S=0,k=n.i[n.a.colIdx(d[0])];S<k.length;S++){var h=k[S];n.a.boxIdx(h)!==i&&(this.sudokuService.isCandidate(h,s)&&g.push({c:h,k:s}))}if(g.length>0)return this.activeHint=new a.b(u.a.POINTING_COL,[d[0]],[s],g),!0}}}}}}return!1},t.prototype.checkRowBoxReductions=function(){for(var t=0,e=n.d;t<e.length;t++){var i=e[t];t:for(var r=0,o=n.g;r<o.length;r++){var s=o[r];if(!this.sudokuService.containsValue(this.sudokuService.getRow(i),s)){for(var d=[],l=0,c=n.h[i];l<c.length;l++){var h=c[l];if(this.sudokuService.isCandidate(h,s)&&(d.push(h),d.length>3))continue t}if(!(d.length<2)&&n.a.areCellsInSameBox(d)){for(var f=[],p=0,g=n.j[n.a.boxIdx(d[0])];p<g.length;p++){var h=g[p];n.h[i].indexOf(h)>=0||this.sudokuService.isCandidate(h,s)&&f.push({c:h,k:s})}if(f.length>0)return this.activeHint=new a.b(u.a.ROW_BOX_REDUCTION,[d[0]],[s],f),!0}}}}return!1},t.prototype.checkColBoxReductions=function(){for(var t=0,e=n.e;t<e.length;t++){var i=e[t];t:for(var r=0,o=n.g;r<o.length;r++){var s=o[r];if(!this.sudokuService.containsValue(this.sudokuService.getCol(i),s)){for(var d=[],l=0,c=n.i[i];l<c.length;l++){var h=c[l];if(this.sudokuService.isCandidate(h,s)&&(d.push(h),d.length>3))continue t}if(!(d.length<2)&&n.a.areCellsInSameBox(d)){for(var f=[],p=0,g=n.j[n.a.boxIdx(d[0])];p<g.length;p++){var h=g[p];n.i[i].indexOf(h)>=0||this.sudokuService.isCandidate(h,s)&&f.push({c:h,k:s})}if(f.length>0)return this.activeHint=new a.b(u.a.COL_BOX_REDUCTION,[d[0]],[s],f),!0}}}}return!1},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),r=function(){function t(t,e,i){this._value=0,this._candidates=new Array(10),this.setAllCandidates(),this._rowIndex=t,this._colIndex=e,this._boxIndex=i}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"candidates",{get:function(){return this._candidates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowIndex",{get:function(){return this._rowIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colIndex",{get:function(){return this._colIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxIndex",{get:function(){return this._boxIndex},enumerable:!0,configurable:!0}),t.prototype.setAllCandidates=function(){for(var t=0,e=n.g;t<e.length;t++){var i=e[t];this._candidates[i]=!0}},t.prototype.unsetAllCandidates=function(){for(var t=0,e=n.g;t<e.length;t++){var i=e[t];this._candidates[i]=!1}},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),r=function(){function t(t){this.vOccurrences=new Array(10);for(var e=0,i=n.c;e<i.length;e++){var r=i[e];this.vOccurrences[r]=0}this.cells=t}return t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(13),r=i(14),o=i(0),s=function(){function t(){this._cells=new Array(81),this._rows=new Array(9),this._cols=new Array(9),this._boxs=new Array(9);for(var t=0,e=o.k;t<e.length;t++){var i=e[t];this._rows[i]=new r.a(o.h[i]),this._cols[i]=new r.a(o.i[i]),this._boxs[i]=new r.a(o.j[i])}for(var s=0,a=o.b;s<a.length;s++){var u=a[s];this._cells[u]=new n.a(o.a.rowIdx(u),o.a.colIdx(u),o.a.boxIdx(u))}}return Object.defineProperty(t.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxs",{get:function(){return this._boxs},enumerable:!0,configurable:!0}),t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i(8),r=i(7),o=i(3),s=i(0),a=i(15),u=function(){function t(t){this.currentSudoku=void 0,this.sudokuModel=void 0,this.actionLog=void 0,this.sudokuModel=new a.a,this.actionLog=t,this.initializeModel()}return t.prototype.initializeModel=function(){for(var t=0,e=s.b;t<e.length;t++){var i=e[t];this.initializeCell(this.sudokuModel.cells[i])}for(var n=0,r=s.k;n<r.length;n++){var o=r[n];this.initializeGroup(this.sudokuModel.rows[o]),this.initializeGroup(this.sudokuModel.cols[o]),this.initializeGroup(this.sudokuModel.boxs[o])}this.initializeActionLog()},t.prototype.initializeActionLog=function(){this.actionLog.initialize()},t.prototype.getCurrentSudoku=function(){return this.currentSudoku},t.prototype.loadProvidedSudoku=function(t){var e=new n.a;e.initialValues=t,this.initializeModel();for(var i=0,r=s.b;i<r.length;i++){var a=r[i],u=(this.sudokuModel.cells[a],t[a]);0!==u&&this.setValue(a,u,o.a.SET_VALUE)}return this.initializeActionLog(),e},t.prototype.setAllValues=function(t){for(var e=0,i=s.b;e<i.length;e++){var n=i[e];this.sudokuModel.cells[n].value=t[n],this.removeAllCellCandidates(n)}for(var r=0,o=s.k;r<o.length;r++)for(var a=o[r],u=0,d=s.c;u<d.length;u++){var l=d[u];this.sudokuModel.rows[a].vOccurrences[l]=1,this.sudokuModel.cols[a].vOccurrences[l]=1,this.sudokuModel.boxs[a].vOccurrences[l]=1}},t.prototype.getValue=function(t){return this.sudokuModel.cells[t].value},t.prototype.setValue=function(t,e,i,n,r){var a=this.sudokuModel.cells[t];if(0!=a.value){if(a.value===e)return;this.removeValue(t)}a.value=e,this.removeAllCellCandidates(t),this.sudokuModel.rows[a.rowIndex].vOccurrences[e]++,this.sudokuModel.cols[a.colIndex].vOccurrences[e]++,this.sudokuModel.boxs[a.boxIndex].vOccurrences[e]++;var u;switch(i){case o.a.SET_VALUE:u=new o.b(o.a.SET_VALUE,t,e,r);break;case o.a.GUESS_VALUE:u=new o.c(o.a.GUESS_VALUE,t,e,n,r)}this.actionLog.addEntry(u);for(var d=0,l=s.a.getRelatedCells(t);d<l.length;d++){var c=l[d];0==this.sudokuModel.cells[c].value&&(this.sudokuModel.cells[c].candidates[e]=!1)}},t.prototype.removeValue=function(t){var e=this.sudokuModel.cells[t],i=e.value;if(0!==i){e.value=0;var n=this.sudokuModel.rows[e.rowIndex],r=this.sudokuModel.cols[e.colIndex],o=this.sudokuModel.boxs[e.boxIndex];n.vOccurrences[i]--,r.vOccurrences[i]--,o.vOccurrences[i]--;for(var a=0,u=s.c;a<u.length;a++){var d=u[a];n.vOccurrences[i]>0||r.vOccurrences[i]>0||o.vOccurrences[i]>0||this.addCandidate(t,d)}for(var l=0,c=s.a.getRelatedCells(t);l<c.length;l++){var h=c[l],f=this.sudokuModel.cells[h],p=this.sudokuModel.rows[f.rowIndex],g=this.sudokuModel.cols[f.colIndex],v=this.sudokuModel.boxs[f.boxIndex];p.vOccurrences[i]>0||g.vOccurrences[i]>0||v.vOccurrences[i]>0||this.addCandidate(h,i)}}},t.prototype.removeCandidate=function(t,e,i){this.sudokuModel.cells[t].candidates[e]=!1;var n=new o.d(o.a.REMOVE_CANDIDATE,t,e,i);this.actionLog.addEntry(n)},t.prototype.undoAction=function(t){switch(t.type){case o.a.SET_VALUE:case o.a.GUESS_VALUE:this.removeValue(t.cell);break;case o.a.REMOVE_CANDIDATE:this.addCandidate(t.cell,t.candidate)}},t.prototype.findNakedCandidates=function(t,e){var i=0;switch(e){case r.a.SINGLE:i=1;break;case r.a.PAIR:i=2;break;case r.a.TRIPLE:i=3;break;case r.a.QUAD:i=4}var n=[];if(this.hasValue(t))return[];for(var o=0,a=s.g;o<a.length;o++){var u=a[o];if(this.isCandidate(t,u)&&(n.push(u),n.length>i))return[]}return n},t.prototype.isSolved=function(){for(var t=0,e=s.d;t<e.length;t++)for(var i=e[t],n=0,r=s.c;n<r.length;n++){var o=r[n];if(1!=this.sudokuModel.rows[i].vOccurrences[o])return!1}return!0},t.prototype.hasValue=function(t){return this.sudokuModel.cells[t].value>0},t.prototype.getRow=function(t){return this.sudokuModel.rows[t]},t.prototype.getCol=function(t){return this.sudokuModel.cols[t]},t.prototype.getBox=function(t){return this.sudokuModel.boxs[t]},t.prototype.containsValue=function(t,e){return 1===t.vOccurrences[e]},t.prototype.candidateCellsCount=function(t){for(var e=0,i=0,n=s.c;i<n.length;i++){var r=n[i];0===t.vOccurrences[r]&&e++}return e},t.prototype.getCandidateCounts=function(t){for(var e=[0,0,0,0,0,0,0,0,0,0],i=0,n=s.c;i<n.length;i++){var r=n[i];if(!this.groupContainsValue(t,r))for(var o=0,a=t.cells;o<a.length;o++){var u=a[o];this.hasValue(u)||this.sudokuModel.cells[u].candidates[r]&&e[r]++}}return e},t.prototype.isImpossible=function(){return!this.isSolutionPossible()},t.prototype.getCandidates=function(t){if(this.hasValue(t))return[];for(var e=[],i=0,n=s.g;i<n.length;i++){var r=n[i];this.sudokuModel.cells[t].candidates[r]&&e.push(r)}return e},t.prototype.isCandidate=function(t,e){return this.sudokuModel.cells[t].candidates[e]},t.prototype.isCellValid=function(t){try{if(this.isGroupValid(this.sudokuModel.rows[s.a.rowIdx(t)])&&this.isGroupValid(this.sudokuModel.cols[s.a.colIdx(t)])&&this.isGroupValid(this.sudokuModel.boxs[s.a.boxIdx(t)]))return!0}catch(e){console.info("c: "+t),console.info("r: "+s.a.rowIdx(t)),console.info("c: "+s.a.colIdx(t)),console.info("b: "+s.a.boxIdx(t))}return!1},t.prototype.isValueComplete=function(t){for(var e=0,i=0,n=s.b;i<n.length;i++){var r=n[i];this.sudokuModel.cells[r].value===t&&e++}return 9===e},t.prototype.getNumberOfCandidates=function(t){for(var e=0,i=this.sudokuModel.cells[t],n=0,r=s.g;n<r.length;n++){var o=r[n];i.candidates[o]&&e++}return e},t.prototype.removeLastActionLogEntry=function(){this.actionLog.removeLastEntry()},t.prototype.cellsToValuesArray=function(){for(var t=[],e=0,i=s.b;e<i.length;e++){var n=i[e];t.push(this.sudokuModel.cells[n].value)}return t},t.prototype.getLastAction=function(){return this.actionLog.getLastEntry()},t.prototype.undoLastAction=function(){var t=this.actionLog.getLastEntry();this.undoAction(t),this.actionLog.removeLastEntry()},t.prototype.getActionLogAsString=function(){return this.actionLog.toStringLastFirst()},t.prototype.refreshAllCandidates=function(){for(var t=0,e=s.b;t<e.length;t++){var i=e[t];this.hasValue(i)||(this.removeAllCellCandidates(i),this.setCellCandidates(i))}},t.prototype.initializeCell=function(t){t.value=0;for(var e=0,i=s.g;e<i.length;e++){var n=i[e];t.candidates[n]=!0}},t.prototype.initializeGroup=function(t){for(var e=0,i=s.c;e<i.length;e++){var n=i[e];t.vOccurrences[n]=0}},t.prototype.setCellCandidates=function(t){if(!this.hasValue(t))for(var e=this.sudokuModel.cells[t],i=this.sudokuModel.rows[e.rowIndex],n=this.sudokuModel.cols[e.colIndex],r=this.sudokuModel.boxs[e.boxIndex],o=0,a=s.c;o<a.length;o++){var u=a[o];0==i.vOccurrences[u]&&0==n.vOccurrences[u]&&0==r.vOccurrences[u]&&this.addCandidate(t,u)}},t.prototype.isCellStateValid=function(t){return this.hasValue(t)&&!this.hasCandidates(t)||!this.hasValue(t)&&this.hasCandidates(t)},t.prototype.isGroupValid=function(t){for(var e=0,i=s.c;e<i.length;e++){var n=i[e];if(t.vOccurrences[n]>1)return!1}return!0},t.prototype.isSolutionPossible=function(){for(var t=0,e=s.b;t<e.length;t++){var i=e[t];if(!this.isCellStateValid(i))return!1}for(var n=0,r=s.k;n<r.length;n++){var o=r[n];if(!this.isGroupValid(this.sudokuModel.rows[o]))return!1;if(!this.isGroupValid(this.sudokuModel.cols[o]))return!1;if(!this.isGroupValid(this.sudokuModel.boxs[o]))return!1}return!0},t.prototype.groupContainsValue=function(t,e){return 1===t.vOccurrences[e]},t.prototype.valueCellsCount=function(t){for(var e=0,i=0,n=s.c;i<n.length;i++){var r=n[i];t.vOccurrences[r]>0&&e++}return e},t.prototype.hasCandidates=function(t){for(var e=0,i=s.g;e<i.length;e++){var n=i[e];if(this.sudokuModel.cells[t].candidates[n])return!0}return!1},t.prototype.cellValuesToArray=function(){for(var t=[],e=0,i=s.b;e<i.length;e++){var n=i[e];t.push(this.sudokuModel.cells[n].value)}return t},t.prototype.toOneLineString=function(){for(var t,e="",i=0,n=s.b;i<n.length;i++){var r=n[i];t=this.sudokuModel.cells[r].value,e+=0===t?".":t}return e},t.prototype.toGridString=function(){return this.arrayToGridString(this.cellValuesToArray())},t.prototype.rowToString=function(t){var e="Row "+(t+1)+": ";return e+=this.groupToString(this.sudokuModel.rows[t])},t.prototype.colToString=function(t){var e="Col "+(t+1)+": ";return e+=this.groupToString(this.sudokuModel.cols[t])},t.prototype.boxToString=function(t){var e="Box "+(t+1)+": ";return e+=this.groupToString(this.sudokuModel.boxs[t])},t.prototype.groupToString=function(t){for(var e="",i=0,n=s.c;i<n.length;i++){var r=n[i];e+=0===t.vOccurrences[r]?".":t.vOccurrences[r],3!=r&&6!=r||(e+=" ")}e+=" ";for(var o=0;o<t.cells.length;o++)e+=s.a.pad(t.cells[o],2)+" ",2!=o&&5!=o||(e+=" ");return e},t.prototype.cellToString=function(t){var e=this.sudokuModel.cells[t],i=s.a.toRowColString(t)+": ";i+="v:"+(0!=e.value?e.value:"."),i+=" k:";for(var n=0,r=s.g;n<r.length;n++){var o=r[n];i+=e.candidates[o]?o:"."}return i+=" r"+(e.rowIndex+1)+" c"+(e.colIndex+1)+" b"+(e.boxIndex+1)},t.prototype.toString=function(){for(var t="",e=0,i=s.d;e<i.length;e++){var n=i[e];t+=this.rowToString(n)+"\n"}for(var r=0,o=s.e;r<o.length;r++){var a=o[r];t+=this.colToString(a)+"\n"}for(var u=0,d=s.f;u<d.length;u++){var l=d[u];t+=this.boxToString(l)+"\n"}for(var c=0,h=s.b;c<h.length;c++){var a=h[c];t+=this.cellToString(a)+"\n"}return t},t.prototype.toStringRow=function(t){var e="";e+=this.rowToString(t)+"\n";for(var i=0,n=s.h[t];i<n.length;i++){var r=n[i];e+=this.cellToString(r)+"\n"}return e},t.prototype.getCandidates_=function(t,e){return this.getCandidates(s.a.urcToCellIdx(t,e))},t.prototype.addCandidate=function(t,e){if(!(this.sudokuModel.cells[t].value>0)){for(var i=0,n=s.a.getRelatedCells(t);i<n.length;i++){var r=n[i];if(this.sudokuModel.cells[r].value===e)return}this.sudokuModel.cells[t].candidates[e]=!0}},t.prototype.setAllCellCandidates=function(t){this.sudokuModel.cells[t].setAllCandidates()},t.prototype.removeAllCellCandidates=function(t){this.sudokuModel.cells[t].unsetAllCandidates()},t.prototype.arrayToGridString=function(t){for(var e,i="",n=0,r=0,o=s.b;r<o.length;r++){e=t[o[r]],n>0&&n%3==0&&n%9!=0&&(i+="| "),n>0&&n%9==0&&(i+="\n"),n>0&&n%27==0&&(i+="------+-------+------\n"),i+=0===e?". ":e+" ",n++}return i},t}()},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(0),r=i(2),o=i(8),s=i(3),a=i(10),u=i(4),d=i(1),l=i(12),c=i(16),h=function(){function t(){this.actionLog=new a.a,this.sudokuService=new c.a(this.actionLog),this.hintService=new l.a(this.sudokuService)}return t.prototype.createSudoku=function(t){var e=new o.a;e.desiredDifficulty=t,e.completedPuzzle=this.makeRandomSolution();for(var i=0,n=e.desiredDifficulty;e.actualDifficulty!=n;)i++,this.getStartingValues(e),void 0!==e.initialValues&&this.completePuzzle(e);return e.generatePasses=i,console.info("\nCreated "+o.a.getDifficultyLabel(e.actualDifficulty)+" in "+e.generatePasses+" passes"),e.serialize()},t.prototype.initializeLogs=function(){this.sudokuService.initializeActionLog(),this.hintService.initializeHintLog()},t.prototype.makeRandomSolution=function(){var t=Date.now();this.sudokuService.initializeModel(),this.initializeLogs(),this.randomCellIndexes=n.a.shuffleArray(n.b.slice()),this.randomValues=n.a.shuffleArray(n.c.slice());for(var e=0,i=n.c;e<i.length;e++){var r=i[e];this.sudokuService.setValue(this.randomCellIndexes[r],r,s.a.GUESS_VALUE)}this.solve();Date.now();return this.sudokuService.cellsToValuesArray()},t.prototype.getStartingValues=function(t){Date.now();this.sudokuService.setAllValues(t.completedPuzzle),this.initializeLogs(),this.randomCellIndexes=n.a.shuffleArray(n.b.slice()),this.randomValues=n.a.shuffleArray(n.c.slice());var e=n.a.shuffleArray(n.b.slice(0,41)),i=0,o=0;t:for(var a=0,u=e;a<u.length;a++){var d=u[a],l=80-d,c=this.sudokuService.getValue(d),h=this.sudokuService.getValue(l);if(this.sudokuService.removeValue(d),this.sudokuService.removeValue(l),!(++o<=9)){switch(t.desiredDifficulty){case r.a.EASY:case r.a.MEDIUM:case r.a.HARD:for(var f=!1;this.hintService.getHint(t.desiredDifficulty);)this.hintService.getActiveHint().getDifficultyRating()===r.a.HARD&&(f=!0),this.hintService.applyHint();var p=this.sudokuService.isSolved();if(this.rollbackAll(),p){f&&i++;continue t}case r.a.HARDEST:var g=this.countSolutions();if(this.rollbackAll(),g<=1)continue t}this.sudokuService.setValue(d,c,s.a.SET_VALUE),this.sudokuService.setValue(l,h,s.a.SET_VALUE),this.sudokuService.removeLastActionLogEntry(),this.sudokuService.removeLastActionLogEntry()}}t.desiredDifficulty===r.a.HARD&&0===i?t.initialValues=void 0:t.initialValues=this.sudokuService.cellsToValuesArray()},t.prototype.completePuzzle=function(t){var e=Date.now();this.initializeLogs(),this.randomCellIndexes=n.a.shuffleArray(n.b.slice()),this.randomValues=n.a.shuffleArray(n.c.slice()),this.solve(),t.completedPuzzle=this.sudokuService.cellsToValuesArray(),t.stats=this.hintService.getHintCounts(),t.actualDifficulty=t.stats.getActualDifficulty();Date.now()},t.prototype.solve=function(){for(;void 0!=this.hintService.getHint(r.a.HARDEST);){if(this.hintService.applyHint(),this.sudokuService.isSolved())return!0;if(this.sudokuService.isImpossible())return!1}for(var t=void 0;this.guess(t);){if(this.solve())return!0;t=this.rollbackToLastGuess()}return!1},t.prototype.countSolutions=function(){for(;void 0!=this.hintService.getHint(r.a.HARDEST);){if(this.hintService.applyHint(),this.sudokuService.isSolved())return this.rollbackToLastGuess(),1;if(this.sudokuService.isImpossible())return this.rollbackToLastGuess(),0}for(var t=0,e=void 0;this.guess(e);){if((t+=this.countSolutions())>=2)return this.rollbackToLastGuess(),t;e=this.rollbackToLastGuess()}return this.rollbackToLastGuess(),t},t.prototype.guess=function(t){var e=void 0,i=[],n=void 0;if(void 0==t)e=this.findFewestCandidatesCell(),i=this.sudokuService.getCandidates(e);else if(e=t.cell,i=t.possibleValues,this.sudokuService.removeLastActionLogEntry(),0===i.length)return!1;return n=i[0],i=i.slice(1),this.hintService.addHintLogEntry(new u.a(d.a.GUESS,e,n)),this.sudokuService.setValue(e,n,s.a.GUESS_VALUE,i),!0},t.prototype.findFewestCandidatesCell=function(){for(var t,e=10,i=-1,n=0,r=this.randomCellIndexes;n<r.length;n++){var o=r[n];if(!this.sudokuService.hasValue(o)){if(2===(t=this.sudokuService.getNumberOfCandidates(o)))return o;if(t<e&&(e=t,i=o),e<=2)break}}return i},t.prototype.rollbackToLastGuess=function(){for(var t=this.actionLog.getLastEntry();t&&t.type!=s.a.GUESS_VALUE;)this.sudokuService.undoAction(t),this.actionLog.removeLastEntry(),t=this.actionLog.getLastEntry();if(this.actionLog.getLastEntry()&&this.actionLog.getLastEntry().type===s.a.GUESS_VALUE)return this.sudokuService.undoAction(this.actionLog.getLastEntry()),this.actionLog.getLastEntry()},t.prototype.rollbackAll=function(){for(;this.actionLog.getLastEntry();)this.sudokuService.undoAction(this.actionLog.getLastEntry()),this.actionLog.removeLastEntry()},t}()},function(t,e,i){t.exports=i(9)}])}});